'use strict';define("metaphorjs","metaphorjs-observable metaphorjs-promise metaphorjs-ajax metaphorjs-animate metaphorjs-input metaphorjs-class metaphorjs-namespace metaphorjs-select metaphorjs-validator metaphorjs-watchable metaphorjs-dialog metaphorjs-history".split(" "),function(ea,w,ub,E,fa,vb,wb,ya,xb,za,yb,na){function M(){}function r(f,a){return f.getAttribute?f.getAttribute(a):null}function V(f){return"object"==typeof f&&3===W(f)&&!f.nodeType&&f.constructor===Object}function ka(f){return!0===
f||!1===f}function B(f){return"object"==typeof f&&5===W(f)}function G(f){if(f&&void 0!=!f.length&&f!==""+f){for(var a=[],b=-1,c=f.length>>>0;++b!==c;a[b]=f[b]);return a}return f?[f]:[]}function H(f){return"function"==typeof f}function Y(f){if(!f)return!1;var a,b;return"object"!=(b=typeof f)&&"function"!=b?!1:H(a=f.then)?a:!1}function I(f){return"string"==typeof f||f===""+f}function Aa(f){var a={},b,c,d=f.attributes;f=0;for(b=d.length;f<b;f++)c=d[f],a[c.name]=c.value;return a}function Ba(f){if(null===
f||"object"!=typeof f)return!1;f=W(f);return 2<f||-1==f}function z(f){var a=window.document.createDocumentFragment(),b,c;I(f)&&(b=window.document.createElement("div"),b.innerHTML=f,f=b.childNodes);if(!f)return a;if(f.nodeType)a.appendChild(f);else if(f.item)for(b=-1,c=f.length>>>0;++b!==c;a.appendChild(f[0]));else for(b=-1,c=f.length;++b!==c;a.appendChild(f[b]));return a}function Ca(f){return Da("(?:^|\\s)"+f+"(?!\\S)")}function oa(f,a){return a?Ca(a).test(f.className):!1}function Z(f,a){a&&!oa(f,
a)&&(f.className+=" "+a)}function Q(f,a){a&&(f.className=f.className.replace(Ca(a),""))}function pa(f,a,b,c){return setTimeout(function(){f.apply(a,b||[])},c||0)}function qa(f){return 1===W(f)}function R(f){var a=f.stack||Error().stack;if("undefined"!=typeof console&&console.log)pa(function(){console.log(f);a&&console.log(a)});else throw f;}function ra(f){f=W(f);return 3>f&&-1<f}function Va(f){return f.replace(zb,function(a){return a.charAt(1).toUpperCase()})}function C(f,a,b){var c=F(f,"config"),
d;if(c)return c;c={};if(b||null!==(b=r(f,"mjs-config")))for(d in f.removeAttribute("mjs-config"),a=b?J(b)(a||{}):{},a)c[d]=a[d];a=Wa(f);for(d in a)b=a[d],c[d]=""===b?!0:b;F(f,"config",c);return c}function ga(f,a,b,c,d){var e=!1!==a;a=a||{};d=d||[];b=b||a.scope;c=c||a.node;a.scope=a.scope||b;a.node=a.node||c;var g=I(f)?X(f):f;if(!g)throw"Component "+f+" not found";b&&g.$isolateScope&&(a.scope=b=b.$newIsolated());var k,y=[];f=g.template||a.template||null;var m=g.templateUrl||a.templateUrl||null,h=b?
b.$app:null,K=Ea.global(),q=h?h.inject:K.inject,D=h?h:K,l=c?r(c,"mjs-cloak"):null,u={$node:c||null,$scope:b||null,$config:a||null,$args:d||null};if(g.resolve)for(k in g.resolve)(function(e){var f=new w,m;y.push(f.done(function(b){u[e]=b;a[e]=b;d.push(b)}));m=g.resolve[k];H(m)?f.resolve(m(b,c)):I(m)?f.resolve(q.resolve(m)):f.resolve(q.call(D,m,null,v({},u,a,!1,!1)))})(k);e&&(f||m)&&(a.template=new aa({scope:b,node:c,deferRendering:!0,ownRenderer:!0,shadow:g.$shadow,tpl:f,url:m}),y.push(a.template.initPromise),
c&&c.firstChild&&F(c,"mjs-transclude",z(c.childNodes)));e&&d.unshift(a);var s;y.length?(s=new w,w.all(y).done(function(){s.resolve(q.call(D,g,null,v({},u,a,!1,!1),d))})):s=w.resolve(q.call(D,g,null,v({},u,a,!1,!1),d));c&&s.isPending()&&null!==l&&(l?Z(c,l):c.style.visibility="hidden",s.then(function(){l?Q(c,l):c.style.visibility=""}));c&&s.then(function(){Q(c,"mjs-cloak")});return s}function ba(){return!1}function Fa(f){var a=f.nodeName.toLowerCase();f=f.type;return"input"!=a&&"textarea"!=a&&"select"!=
a||"submit"==f||"reset"==f||"button"==f?!1:!0}function la(){return!0}function Ga(f){return new ha(f)}function Xa(f,a){for(var b;f;){b=F(f,a);if(void 0!==b)return b;f=f.parentNode}}function Ha(f,a){var b=Xa(f,"mjs-transclude");if(b){f.firstChild&&F(f,"mjs-transclude",z(f.childNodes));var c=f.parentNode,d=f.nextSibling,b=sa(b),e=G(b.childNodes);a?(c.removeChild(f),c.insertBefore(b,d)):f.appendChild(b);return e}return null}function Ya(f,a,b){b||(b="asc");f=f.slice();f.sort(function(b,d){var e=typeof b,
g=b,k=d;if(e!=typeof d)return 0;"object"==e&&(H(a)?(g=a(b),k=a(d)):(g=b[a],k=d[a]));if("number"==typeof g)return g-k;g=(""+g).toLowerCase();k=(""+k).toLowerCase();return g===k?0:g>k?1:-1});return"desc"==b?f.reverse():f}function ta(f){return 9===W(f)}function ua(f){return 10===W(f)}function Ia(f){return f===window||f&&f.document&&f.location&&f.alert&&f.setInterval}function Za(f,a,b,c){try{var d=ga(a||"MetaphorJs.App",!1,b,f,[f,b]);return!1!==c?d.done(function(a){a.run()}):d}catch(e){return R(e),w.reject(e)}}
function $a(f,a){var b=!1,c=!0,d=a||window,e,g,k=function(a){if("readystatechange"!=a.type||"complete"==g.readyState)va("load"==a.type?d:g,a.type,k),!b&&(b=!0)&&f.call(d,a.type||a)},y=function(){try{e.doScroll("left")}catch(a){setTimeout(y,50);return}k("poll")};g=d.document;e=g.documentElement;if("complete"==g.readyState)f.call(d,"lazy");else{if(g.createEventObject&&e.doScroll){try{c=!d.frameElement}catch(m){}c&&y()}ca(g,"DOMContentLoaded",k);ca(g,"readystatechange",k);ca(d,"load",k)}}function Ja(f,
a,b){var c,d=f.childNodes;if(!1!==a.call(b,f))for(f=-1,c=d.length>>>0;++f!==c;Ja(d[f],a,b));}var Ab=fa.getValue,Bb=fa.setValue,h={},x=new wb(h,"MetaphorJs"),ia=new vb(x),t=ia.define,S=Array.prototype.slice,Cb=Object.prototype.toString,W=function(){var f={"[object String]":0,"[object Number]":1,"[object Boolean]":2,"[object Object]":3,"[object Function]":4,"[object Array]":5,"[object RegExp]":9,"[object Date]":10};return function(a){if(!a){if(null===a)return 6;if(void 0===a)return 7}var b=f[Cb.call(a)];
return void 0===b?-1:1==b&&isNaN(a)?8:b}}(),v=function(){return function a(){var b=!1,c=!1,d=S.call(arguments),e=d.shift(),g,k,y;ka(d[d.length-1])&&(b=d.pop());ka(d[d.length-1])&&(c=b,b=d.pop());for(;d.length;)if(g=d.shift())for(k in g)if(g.hasOwnProperty(k)&&void 0!==(y=g[k]))if(c)if(e[k]&&V(e[k])&&V(y))a(e[k],y,b,c);else{if(!0===b||void 0==e[k])V(y)?(e[k]={},a(e[k],y,b,!0)):e[k]=y}else if(!0===b||void 0==e[k])e[k]=y;return e}}(),O=function(f){this.$$observable=new ea;this.$$historyWatchers={};v(this,
f,!0,!1);this.$parent?(this.$parent.$on("check",this.$$onParentCheck,this),this.$parent.$on("destroy",this.$$onParentDestroy,this)):(this.$root=this,this.$isRoot=!0)};v(O.prototype,{$app:null,$parent:null,$root:null,$isRoot:!1,$level:0,$$observable:null,$$watchers:null,$$historyWatchers:null,$$checking:!1,$$destroyed:!1,$new:function(){return new O({$parent:this,$root:this.$root,$app:this.$app,$level:this.$level+1})},$newIsolated:function(){return new O({$app:this.$app,$level:self.$level+1})},$on:function(f,
a,b){return this.$$observable.on(f,a,b)},$un:function(f,a,b){return this.$$observable.un(f,a,b)},$watch:function(f,a,b){return za.create(this,f,a,b,null)},$unwatch:function(f,a,b){return za.unsubscribeAndDestroy(this,f,a,b)},$watchHistory:function(f,a){this.$$historyWatchers[a]||(this.$$historyWatchers[a]=f,h.history.on("change-"+a,this.$$onHistoryChange,this))},$unwatchHistory:function(f){this.$$historyWatchers[f]||(delete this.$$historyWatchers[f],h.history.un("change-"+f,this.$$onHistoryChange,
this))},$get:function(f){for(var a=this;a;){if(void 0!==a[f])return a[f];a=a.$parent}},$set:function(f,a){if("string"==typeof f)this[f]=a;else for(var b in f)this[b]=f[b];this.$check()},$$onParentDestroy:function(){this.$destroy()},$$onParentCheck:function(){this.$check()},$$onHistoryChange:function(f,a,b){this.$$historyWatchers[b]&&(a=this.$$historyWatchers[b],this[a]=f,this.$check())},$check:function(){var f;this.$$checking||(this.$$checking=!0,this.$$watchers&&(f=this.$$watchers.$checkAll()),this.$$checking=
!1,this.$$destroyed||this.$$observable.trigger("check",f),0<f&&this.$check())},$destroy:function(){var f,a;this.$$observable.trigger("destroy");this.$$observable.destroy();this.$$watchers&&this.$$watchers.$destroyAll();for(f in this.$$historyWatchers)this.$unwatchHistory(f);for(a in this)this.hasOwnProperty(a)&&(this[a]=null);this.$$destroyed=!0}},!0,!1);var P=function(){var f=["0","0","0"];return function(){for(var a=f.length,b;a;){a--;b=f[a].charCodeAt(0);if(57==b)return f[a]="A",f.join("");if(90==
b)f[a]="0";else return f[a]=String.fromCharCode(b+1),f.join("")}f.unshift("0");return f.join("")}}(),T=function(){return String.prototype.trim?function(f){return I(f)?f.trim():f}:function(f){return I(f)?f.replace(/^\s\s*/,"").replace(/\s\s*$/,""):f}}(),L=za.create,n=x.add,X=x.get,l=function(){var f=[],a=!1,b=function(a,b){return a.priority<b.priority?-1:a.priority>b.priority?1:0};return t({$class:"Directive",watcher:null,scope:null,node:null,expr:null,autoOnChange:!0,$init:function(a,b,e){var g;e=
T(e);this.node=b;this.expr=e;this.scope=a;this.watcher=L(a,e,this.onChange,this,null,x);if(this.autoOnChange&&void 0!==(g=this.watcher.getLastResult()))this.onChange(g,void 0);a.$on("destroy",this.onScopeDestroy,this)},onScopeDestroy:function(){this.$destroy()},onChange:function(){},destroy:function(){this.watcher&&this.watcher.unsubscribeAndDestroy(this.onChange,this);this.$super()}},{registerAttribute:function(b,d,e){X("attr."+b,!0)||(f.push({priority:d,name:b,handler:n("attr."+b,e)}),a=!1)},getAttributes:function(){a||
(f.sort(b),a=!0);return f},registerTag:function(a,b){X("tag."+a,!0)||n("tag."+a,b)}})}(),U=Function.prototype.bind?function(f,a){return f.bind(a)}:function(f,a){return function(){return f.apply(a,arguments)}},ab=function(f,a,b){var c=f.length,d=a.length,e=0,g=0,k=!1,y=!1,m=[],h;if(!d)return[f];for(;e<c;e++)if(h=f.charAt(e),"\\"==h)e++;else if('"'==h)k=!k;else if("'"==h)y=!y;else if(!k&&!y&&(1==d&&h==a||1<d&&f.substring(e,e+d)==a)){if(f.substr(e-1,d)!=a&&f.substr(e+1,d)!=a||b)m.push(f.substring(g,
e).replace("\\"+a,a)),g=e+d;e+=d-1}m.push(f.substring(g).replace("\\"+a,a));return m},Ka=function(){var f=/\\{/g,a=new ea,b=function(a,b,g,k,f){return!b||!b.indexOf||-1==b.indexOf("{{")&&-1==b.indexOf("{[")?null:new c(a,b,g,k,f)},c=t({$class:"TextRenderer",id:null,parent:null,isRoot:null,scope:null,origin:"",processed:null,text:null,watchers:null,children:null,data:null,recursive:!1,dataChangeDelegate:null,changeTmt:null,lang:null,$init:function(a,b,c,k,f){this.id=P();this.origin=b;this.scope=a;this.parent=
c;this.isRoot=!c;this.data=k;this.lang=a.$app?a.$app.lang:null;if(!0===f||!1===f)this.recursive=f;this.watchers=[];this.children=[];this.dataChangeDelegate=U(this.doDataChange,this);this.processed=this.processText(b);this.render()},subscribe:function(b,c){return a.on(this.id,b,c)},unsubscribe:function(b,c){return a.un(this.id,b,c)},getString:function(){null===this.text&&this.render();var a=this.text;return-1!=a.indexOf("\\{")?a.replace(f,"{"):a},render:function(){var a=this.processed,b,g,k;this.children.length||
this.createChildren();k=this.children;b=-1;for(g=k.length;++b<g;a=a.replace("---"+b+"---",k[b]instanceof c?k[b].getString():k[b]));return this.text=a},processText:function(a){for(var b=0,c=a.length,k,f,m="";b<c;)if(-1!=(k=a.indexOf("{{",b))&&-1!=(f=a.indexOf("}}",k+2))&&"\\"!=a.substr(k-1,1))m+=a.substring(b,k),f!=k+2&&(m+=this.watcherMatch(a.substring(k+2,f))),b=f+2;else{b!==c&&(m+=a.substring(b));break}b=0;a=m;c=a.length;for(m="";b<c;)if(-1!=(k=a.indexOf("{[",b))&&-1!=(f=a.indexOf("]}",k+2))&&"\\"!=
a.substr(k-1,1))m+=a.substring(b,k),f!=k+2&&(m+=this.watcherMatch(a.substring(k+2,f),!0)),b=f+2;else{b!==c&&(m+=a.substring(b));break}return m},watcherMatch:function(a,b){var c=this.watchers;if(b){a=T(a);var k=ab(a,"|"),f=T(k[0]);"."!=f.substr(0,1)&&(k[0]="'"+f+"'");1==k.length&&k.push("l");a=k.join(" | ")}c.push(L(this.scope,a,this.onDataChange,this,null,x));return"---"+(c.length-1)+"---"},onDataChange:function(){this.changeTmt||(this.changeTmt=setTimeout(this.dataChangeDelegate,0))},doDataChange:function(){this.destroyChildren();
this.triggerChange();this.changeTmt=null},triggerChange:function(){this.text=null;this.isRoot?a.trigger(this.id,this,this.data):this.parent.triggerChange()},createChildren:function(){var a=this.watchers,c=this.children,g=this.scope,k=this.recursive,f,m,h;f=-1;for(m=a.length;++f<m;)h=a[f].getLastResult(),void 0===h&&(h=""),c.push(k&&b(g,h,this,null,!0)||h)},destroyChildren:function(){var a=this.children,b,g;b=-1;for(g=a.length;++b<g;)a[b]instanceof c&&a[b].$destroy();this.children=[]},destroyWatchers:function(){var a=
this.watchers,b,c;b=-1;for(c=a.length;++b<c;a[b].unsubscribeAndDestroy(this.onDataChange,this));this.watchers=[]},destroy:function(){this.destroyChildren();this.destroyWatchers();a.destroyEvent(this.id);this.changeTmt&&clearTimeout(this.changeTmt)}},{create:b});return c}(),La=Array.prototype.indexOf;La||(La=Array.prototype.indexOf=function(f,a){var b;if(null==this)throw new TypeError('"this" is null or not defined');var c=Object(this),d=c.length>>>0;if(0===d)return-1;b=+a||0;Infinity===Math.abs(b)&&
(b=0);if(b>=d)return-1;for(b=Math.max(0<=b?b:d-Math.abs(b),0);b<d;){if(b in c&&c[b]===f)return b;b++}return-1});var ja=function(){var f=null,a=Ka.create,b=function(a,b,c,d,g,f){var h=[];if(a&&!0!==a){if(a.nodeType){f.countdown+=1;e(a,c,d,g,f);return}h=S.call(a)}h.length||(h=G(b.childNodes||b));b=h.length;f.countdown+=b;for(a=-1;++a<b;e(h[a],c,d,g,f));},c=function(a,b){if(b)if(b.nodeType)a.push(b);else if(B(b))for(var d=-1,e=b.length;++d<e;c(a,b[d]));},d={script:!0,template:!0,"mjs-template":!0,style:!0},
e=function(a,c,e,g,f){if(a){var h;h=a.nodeName;f||(f={countdown:1});if(!h||!d[h.toLowerCase()])if(h=c.call(e,a),!1!==h){if(Y(h)){h.done(function(d){!1!==d&&b(d,a,c,e,g,f);0==--f.countdown&&g&&g.call(e)});return}b(h,a,c,e,g,f)}0==--f.countdown&&g&&g.call(e)}},g=new ea;return t({$class:"Renderer",id:null,el:null,scope:null,texts:null,parent:null,$init:function(a,b,c){this.id=P();this.el=a;this.scope=b;this.texts=[];this.parent=c;b instanceof O&&b.$on("destroy",this.$destroy,this);if(c)c.on("destroy",
this.$destroy,this)},on:function(a,b,c){return g.on(a+"-"+this.id,b,c)},once:function(a,b,c){return g.once(a+"-"+this.id,b,c)},un:function(a,b,c){return g.un(a+"-"+this.id,b,c)},createChild:function(a){return new ja(a,this.scope,this)},getEl:function(){return this.el},runHandler:function(a,b,c,d){var e=a.$isolateScope?b.$newIsolated():a.$breakScope?b.$new():b,g=b.$app,f={$scope:e,$node:c,$attrValue:d,$renderer:this};c=[e,c,d,this];f=g?g.inject(a,null,f,c):a.apply(null,c);g&&a.$registerBy&&f&&(Y(f)?
f.done(function(c){g.registerCmp(c,b,a.$registerBy)}):g.registerCmp(f,b,a.$registerBy));if("function"==typeof f)this.on("destroy",f);else if(f&&f.$destroy)this.on("destroy",f.$destroy,f);return a.$stopRenderer?!1:f},processNode:function(b){var d=b.nodeType,e=this.texts,g=this.scope,h,q;if(3==d){if(h=null!==r(b.parentNode,"mjs-recursive"),d=a(g,b.textContent||b.nodeValue,null,e.length,h))d.subscribe(this.onTextChange,this),e.push({node:b,tr:d}),this.renderText(e.length-1)}else if(1==d){f||(f=l.getAttributes());
var d=[],D=[],N,u,s;q="tag."+b.tagName.toLowerCase();if(q=X(q,!0)){u=this.runHandler(q,g,b);if(!1===u)return!1;Y(u)?d.push(u):c(D,u)}N=Aa(b);q=0;for(h=f.length;q<h;q++)if(s=f[q].name,void 0!==(u=N[s])){b.removeAttribute(s);u=this.runHandler(f[q].handler,g,b,u);N[s]=null;if(!1===u)return!1;Y(u)?d.push(u):c(D,u)}if(d.length){var n=new w;w.all(d).done(function(a){c(D,a);n.resolve(D)});return n}h=void 0!==N["mjs-recursive"];delete N["mjs-recursive"];for(q in N)null!==N[q]&&(d=a(g,N[q],null,e.length,h))&&
(b.removeAttribute(q),d.subscribe(this.onTextChange,this),e.push({node:b,attr:q,tr:d}),this.renderText(e.length-1));return D.length?D:!0}return!0},process:function(){this.el.nodeType?e(this.el,this.processNode,this,this.onProcessingFinished,{countdown:1}):b(null,this.el,this.processNode,this,this.onProcessingFinished,{countdown:0})},onProcessingFinished:function(){g.trigger("rendered-"+this.id,this)},onTextChange:function(a,b){this.renderText(b)},renderText:function(a){a=this.texts[a];var b=a.tr.getString(),
c=a.attr;c?("value"==c?a.node.value=b:"class"==c?a.node.className=b:"src"==c&&(a.node.src=b),a.node.setAttribute(c,b)):(a.node.textContent=b,a.node.nodeValue=b)},destroy:function(){var a=this.texts,b,c;b=-1;for(c=a.length;++b<c;a[b].tr.$destroy());this.parent&&this.parent.un("destroy",this.$destroy,this);g.trigger("destroy-"+this.id)}})}(),bb=function(){var f=function(a,b){"pt_BR"==b&&(b="xbr");3<b.length&&(b=b.substr(0,-b.lastIndexOf("_")));switch(b){case "bo":case "dz":case "id":case "ja":case "jv":case "ka":case "km":case "kn":case "ko":case "ms":case "th":case "tr":case "vi":case "zh":return 0;
case "af":case "az":case "bn":case "bg":case "ca":case "da":case "de":case "el":case "en":case "eo":case "es":case "et":case "eu":case "fa":case "fi":case "fo":case "fur":case "fy":case "gl":case "gu":case "ha":case "he":case "hu":case "is":case "it":case "ku":case "lb":case "ml":case "mn":case "mr":case "nah":case "nb":case "ne":case "nl":case "nn":case "no":case "om":case "or":case "pa":case "pap":case "ps":case "pt":case "so":case "sq":case "sv":case "sw":case "ta":case "te":case "tk":case "ur":case "zu":return 1==
a?0:1;case "am":case "bh":case "fil":case "fr":case "gun":case "hi":case "ln":case "mg":case "nso":case "xbr":case "ti":case "wa":return 0==a||1==a?0:1;case "be":case "bs":case "hr":case "ru":case "sr":case "uk":return 1==a%10&&11!=a%100?0:2<=a%10&&4>=a%10&&(10>a%100||20<=a%100)?1:2;case "cs":case "sk":return 1==a?0:2<=a&&4>=a?1:2;case "ga":return 1==a?0:2==a?1:2;case "lt":return 1==a%10&&11!=a%100?0:2<=a%10&&(10>a%100||20<=a%100)?1:2;case "sl":return 1==a%100?0:2==a%100?1:3==a%100||4==a%100?2:3;
case "mk":return 1==a%10?0:1;case "mt":return 1==a?0:0==a||1<a%100&&11>a%100?1:10<a%100&&20>a%100?2:3;case "lv":return 0==a?0:1==a%10&&11!=a%100?1:2;case "pl":return 1==a?0:2<=a%10&&4>=a%10&&(12>a%100||14<a%100)?1:2;case "cy":return 1==a?0:2==a?1:8==a||11==a?2:3;case "ro":return 1==a?0:0==a||0<a%100&&20>a%100?1:2;case "ar":return 0==a?0:1==a?1:2==a?2:3<=a&&10>=a?3:11<=a&&99>=a?4:5;default:return 0}},a=function(a){this.store={};a&&(this.locale=a)};v(a.prototype,{store:null,locale:"en",setLocale:function(a){this.locale=
a},set:function(a,b){var e=this.store;void 0===e[a]&&(e[a]=b)},load:function(a){v(this.store,a,!1,!1)},get:function(a){return this.store[a]||(this===b?"-- "+a+" --":b.get(a))},plural:function(a,b){var e=this.get(a),g=f(b,this.locale);return B(e)?e[g]:V(e)?e[b]?e[b]:1==b&&void 0!=e.one?e.one:0>b&&void 0!=e.negative?e.negative:e.other:e},destroy:function(){this.store=null}},!0,!1);var b=new a;a.global=function(){return b};return a}(),Ma=x.add("mixin.Observable",{$$observable:null,$beforeInit:function(f){this.$$observable=
new ea;if(f&&f.callback){var a=f.callback,b=a.context,c;a.context=null;for(c in a)if(a[c])this.$$observable.on(c,a[c],b||this);f.callback=null}},on:function(){var f=this.$$observable;return f.on.apply(f,arguments)},un:function(){var f=this.$$observable;return f.un.apply(f,arguments)},once:function(){var f=this.$$observable;return f.once.apply(f,arguments)},trigger:function(){var f=this.$$observable;return f.trigger.apply(f,arguments)},$beforeDestroy:function(){this.$$observable.trigger("beforedestroy",
this)},$afterDestroy:function(){this.$$observable.trigger("destroy",this);this.$$observable.destroy();this.$$observable=null}}),cb=function(f,a){var b=function(){},c;b.prototype=f.prototype;b=new b;c=f.apply(b,a);return Ba(c)||!1===c?c:b},Ea=function(){var f,a=function(){this.store={}};v(a.prototype,{store:null,instantiate:function(a,c,d,e){return a.$instantiate?a.$instantiate.apply(a,d):e?cb(a,d):a.apply(c,d)},inject:function(a,c,d,e,g){d=d||{};e=e||[];var f=this;if(H(a))if(a.inject)e=S.call(a.inject),
e.push(a),a=e;else return f.instantiate(a,c,e,g);a=S.call(a);e=[];var h=a.pop(),m,p;m=-1;for(p=a.length;++m<p;e.push(f.resolve(a[m],d)));return w.all(e).then(function(a){return f.instantiate(h,c,a,g)})},value:function(a,c){this.store[a]={type:1,value:c}},constant:function(a,c){var d=this.store;d[a]||(d[a]={type:2,value:c})},factory:function(a,c,d,e){ka(d)&&(e=d,d=null);this.store[a]={type:3,singleton:e,fn:c,context:d}},service:function(a,c,d){this.store[a]={type:4,singleton:d,fn:c}},provider:function(a,
c){this.store[a+"Provider"]={name:a,type:5,fn:c,instance:null}},resolve:function(a,c){var d=this.store,e,g,k;if(void 0!==c[a])return c[a];if(g=d[a]){e=g.type;if(1==e||2==e)return g.value;if(3==e)k=this.inject(g.fn,g.context,c);else if(4==e)k=this.inject(g.fn,null,c,null,!0);else if(5==e)return g.instance||(g.instance=w.resolve(this.inject(g.fn,null,c)).done(function(a){g.instance=a;d[g.name]={type:3,fn:a.$get,context:a}})),g.instance;g.singleton&&(g.type=1,g.value=k,3==e&&Y(k)&&k.done(function(a){g.value=
a}));return c[a]=k}if(d[a+"Provider"])return this.resolve(a+"Provider",c),this.resolve(a,c);if(this===f)throw"Could not provide value for "+a;return f.resolve(a)},destroy:function(){this.scope=this.store=null}},!0,!1);a.global=function(){return f};f=new a;return a}(),db={$$provider:null,$beforeInit:function(){this.$$provider=new Ea},value:function(){var f=this.$$provider;return f.value.apply(f,arguments)},constant:function(){var f=this.$$provider;return f.constant.apply(f,arguments)},factory:function(){var f=
this.$$provider;return f.factory.apply(f,arguments)},service:function(){var f=this.$$provider;return f.service.apply(f,arguments)},provider:function(){var f=this.$$provider;return f.provider.apply(f,arguments)},resolve:function(){var f=this.$$provider;return f.resolve.apply(f,arguments)},inject:function(){var f=this.$$provider;return f.inject.apply(f,arguments)},$afterDestroy:function(){this.$$provider.destroy();this.$$provider=null}},eb=function(){var f=[],a=function(a){var c,d,e,g;c=0;for(d=f.length;c<
d;c++)e=f[c],e.$destroy?e.$destroy():e.destroy&&e.destroy();f=null;ia&&ia.destroy&&(ia.destroy(),ia=null);x&&x.destroy&&(x.destroy(),x=null);for(g in h)h[g]=null;h=null;if(a)for(g in window)window.hasOwnProperty(g)&&(window[g]=null)};a.collect=function(a){f.push(a)};return a}();t({$class:"App",$mixins:[Ma,db],lang:null,scope:null,renderer:null,cmpListeners:null,components:null,$init:function(f,a){var b=a instanceof O?a:new O(a),c;eb.collect(this);f.removeAttribute("mjs-app");b.$app=this;this.$super();
this.lang=new bb;this.scope=b;this.cmpListeners={};this.components={};this.factory("$parentCmp",["$node",this.getParentCmp],this);this.value("$app",this);this.value("$rootScope",b.$root);this.value("$lang",this.lang);this.renderer=new ja(f,b);c=S.call(arguments);c[1]=b;this.initApp.apply(this,c)},initApp:M,run:function(){this.renderer.process()},getParentCmp:function(f){f=f.parentNode;for(var a;f;){if(a=r(f,"cmp-id"))return this.getCmp(a);f=f.parentNode}return null},onAvailable:function(f,a,b){var c=
this.cmpListeners,d=this.components;c[f]||(c[f]=new w);a&&c[f].done(a,b);d[f]&&c[f].resolve(d[f]);return c[f]},getCmp:function(f){return this.components[f]||null},registerCmp:function(f,a,b){var c=this,d=f[b];b=function(){delete c.cmpListeners[d];delete c.components[d]};c.components[d]=f;c.cmpListeners[d]&&c.cmpListeners[d].resolve(f);if(f.on)f.on("destroy",b);a.$on("$destroy",b)},destroy:function(){this.renderer.$destroy();this.scope.$destroy();this.lang.destroy();this.$super()}});var Na=function(){return function a(b){if(b===
window)return!0;if(3==b.nodeType)return b.parentElement?a(b.parentElement):!0;var c=window.document.documentElement;return b===c?!0:c.contains(b)}}(),F=function(){var f={};return function(a,b,c){a=a._mjsid||(a._mjsid=P());var d=f[a];return void 0!==c?(d||(d=f[a]={}),d[b]=c):d?d[b]:void 0}}(),sa=function a(b){var c,d,e;if(B(b)){e=[];c=0;for(d=b.length;c<d;c++)e.push(a(b[c]));return e}if(b)switch(b.nodeType){case 1:return b.cloneNode(!0);case 3:return window.document.createTextNode(b.innerText||b.textContent);
case 11:return b.cloneNode(!0)}return null},fb=function(){var a,b=function(b){var d={},e=[];0==arguments.length&&(b=!0);return{addFinder:function(a,b,c){e[c?"unshift":"push"]({fn:a,context:b})},add:function(a,e,h){if(d[a]&&!1===d[a].rewritable)return d[a];d[a]={rewritable:"undefined"!=typeof h?h:b,value:e};return e},get:function(a){if(d[a])return d[a].value;if(e.length){var b,c,h;b=0;for(c=e.length;b<c;b++)if(h=e[b].fn.call(e[b].context,a,this),void 0!==h)return this.add(a,h,!0)}},remove:function(a){var b=
d[a];b&&!0===b.rewritable&&delete d[a];return b?b.value:void 0},exists:function(a){return!!d[a]},eachEntry:function(a,b){for(var c in d)a.call(b,d[c].value,c)},destroy:function(){this===a&&(a=null);this.remove=this.exists=this.destroy=this.get=this.add=b=d=null}}};b.global=function(){a||(a=new b(!0));return a};return b}(),aa=function(){var a=new ea,b=new fb,c=function(a){var c=b.get(a);"string"==typeof c&&(c=z(c),b.add(a,c));return c},d=function(a){return b.exists(a)?b.get(a):b.add(a,ub(a,{dataType:"fragment"}).then(function(c){return b.add(a,
c)}))};b.addFinder(function(a){a=window.document.getElementById(a);var b;if(a)return b=a.tagName.toLowerCase(),"script"==b?(b=window.document.createElement("div"),b.innerHTML=a.innerHTML,z(b.childNodes)):"content"in a?a.content:z(a.childNodes)});return t({$class:"Template",_watcher:null,_tpl:null,_renderer:null,_initial:!0,_fragment:null,_id:null,_originalNode:null,_intendedShadow:!1,scope:null,node:null,tpl:null,url:null,ownRenderer:!1,initPromise:null,tplPromise:null,parentRenderer:null,deferRendering:!1,
replace:!1,shadow:!1,animationEnabled:!0,$init:function(b){v(this,b,!0,!1);window.document.documentElement.createShadowRoot||(this._intendedShadow=this.shadow,this.shadow=!1);this.id=P();a.createEvent("rendered-"+this.id,!1,!0);this.tpl&&(this.tpl=T(this.tpl));this.url&&(this.url=T(this.url));var c=this.node;b=this.tpl||this.url;c&&c.removeAttribute("mjs-include");this.shadow&&(this._originalNode=c,this.node=c=c.createShadowRoot());c||(this.deferRendering=!0);if(b){if(c&&c.firstChild&&!this.shadow&&
F(c,"mjs-transclude",z(c.childNodes)),"."==b.substr(0,1)?(c=b.substr(1,1),c=!("."==c||"/"==c)):c=!1,c&&(this._watcher=L(this.scope,b,this.onChange,this,null,x)),this._watcher&&!this.replace?this.ownRenderer=!0:this.shadow?this.ownRenderer=!0:this.replace&&(this.ownRenderer=!1),this.resolveTemplate(),this._watcher&&this.replace&&(this._watcher.unsubscribeAndDestroy(this.onChange,this),this._watcher=null),this.deferRendering&&this.ownRenderer||this.tplPromise.done(this.applyTemplate,this),this.ownRenderer&&
this.parentRenderer)this.parentRenderer.on("destroy",this.onParentRendererDestroy,this)}else!this.deferRendering&&this.ownRenderer&&this.doRender();this.scope instanceof O&&this.scope.$on("destroy",this.onScopeDestroy,this)},setAnimation:function(a){this.animationEnabled=a},doRender:function(){this._renderer||(this._renderer=new ja(this.node,this.scope),this._renderer.on("rendered",this.onRendered,this),this._renderer.process())},onRendered:function(){a.trigger("rendered-"+this.id,this)},on:function(b,
c,d){return a.on(b+"-"+this.id,c,d)},un:function(b,c,d){return a.un(b+"-"+this.id,c,d)},startRendering:function(){var a=this.tpl||this.url;if(this.deferRendering&&this.node){this.deferRendering=!1;if(this.tplPromise)return this.tplPromise.done(a?this.applyTemplate:this.doRender,this),this.initPromise;a?this.applyTemplate():this.doRender()}return null},resolveTemplate:function(){var a=this,b=a.url,k=a._watcher?a._watcher.getLastResult():a.tpl||b;a.initPromise=new w;a.tplPromise=new w;a.ownRenderer&&
a.initPromise.resolve(!1);return(new w(function(a){b?a(c(k)||d(b)):a(c(k)||z(k))})).done(function(b){a._fragment=b;a.tplPromise.resolve()}).fail(a.initPromise.reject,a.initPromise).fail(a.tplPromise.reject,a.tplPromise)},onChange:function(){this._renderer&&(this._renderer.$destroy(),this._renderer=null);this.resolveTemplate().done(this.applyTemplate,this)},doApplyTemplate:function(){for(var a=this.node;a.firstChild;)a.removeChild(a.firstChild);this._intendedShadow&&this.makeTranscludes();if(this.replace){var b=
sa(this._fragment),c=F(a,"mjs-transclude"),d=S.call(b.childNodes);if(c){var h=ya("[mjs-transclude], mjs-transclude",b);h.length&&F(h[0],"mjs-transclude",c)}a.parentNode.replaceChild(b,a);this.node=d;this.initPromise.resolve(d)}else a.appendChild(sa(this._fragment)),this.initPromise.resolve(this.node);this.ownRenderer&&this.doRender()},applyTemplate:function(){var a=this.node,b=new w;!this._initial&&this.animationEnabled?(E(a,"leave",null,!0).done(this.doApplyTemplate,this).done(b.resolve,b),E(a,"enter",
null,!0)):(this.doApplyTemplate(),b.resolve());this._initial=!1;return b},makeTranscludes:function(){var a=this._fragment,b=ya("content",a),c,d,h,p,K,q;K=0;for(q=b.length;K<q;K++)h=window.document.createElement("mjs-transclude"),c=b[K],d=c.nextSibling,(p=r(c,"select"))&&h.setAttribute("select",p),a.removeChild(c),a.insertBefore(h,d)},onParentRendererDestroy:function(){this._renderer.$destroy();this.$destroy()},onScopeDestroy:function(){this.$destroy()},destroy:function(){this.shadow&&this._originalNode.createShadowRoot();
this._watcher&&this._watcher.unsubscribeAndDestroy(this.onChange,this)}},{cache:b})}(),Da=function(){var a={};return function(b){return a[b]||(a[b]=new RegExp(b))}}(),gb=t({$class:"MetaphorJs.Component",$mixins:[Ma],id:null,originalId:!1,node:null,cls:null,renderTo:null,autoRender:!0,rendered:!1,hidden:!1,destroyEl:!0,destroyScope:!1,scope:null,template:null,templateUrl:null,tag:null,as:null,$init:function(a){a=a||{};this.$super(a);v(this,a,!0,!1);this.scope||(this.scope=new O);this.as&&(this.scope[this.as]=
this);if(this.node){var b=r(this.node,"id");b&&(this.originalId=!0,this.id||(this.id=b))}this.id=this.id||"cmp-"+P();this.node||this._createNode();this.cls&&Z(this.node,this.cls);this.initComponent.apply(this,arguments);this.scope.$app&&this.scope.$app.registerCmp(this,this.scope,"id");var b=this.template,c=this.templateUrl;b&&b instanceof aa?b instanceof aa&&(this.template.node=this.node):this.template=b=new aa({scope:this.scope,node:this.node,deferRendering:!b,ownRenderer:!0,tpl:b,url:c,shadow:this.constructor.$shadow,
animationEnabled:!this.hidden});this.template.on("rendered",this.onRenderingFinished,this);if(this.parentRenderer)this.parentRenderer.on("destroy",this.onParentRendererDestroy,this);this._initElement();this.autoRender&&(b.initPromise?b.initPromise.done(this.render,this):this.render())},_createNode:function(){this.node=window.document.createElement(this.tag||"div")},_initElement:function(){var a=this.node;a.setAttribute("id",this.id);a.setAttribute("cmp-id",this.id);this.hidden&&(a.style.display="none")},
render:function(){this.rendered||(this.trigger("render",this),this.template.startRendering())},onRenderingFinished:function(){this.renderTo?this.renderTo.appendChild(this.node):Na(this.node)||window.document.body.appendChild(this.node);this.rendered=!0;this.afterRender();this.trigger("afterrender",this)},show:function(){if(this.hidden){if(!1===this.trigger("beforeshow",this))return!1;this.rendered||this.render();this.template.setAnimation(!0);this.node.style.display="block";this.hidden=!1;this.onShow();
this.trigger("show",this)}},hide:function(){if(!this.hidden){if(!1===this.trigger("beforehide",this))return!1;this.template.setAnimation(!1);this.node.style.display="none";this.hidden=!0;this.onHide();this.trigger("hide",this)}},isHidden:function(){return this.hidden},isRendered:function(){return this.rendered},isDestroyed:function(){return this.destroyed},getEl:function(){return this.node},initComponent:M,afterRender:M,onShow:M,onHide:M,onParentRendererDestroy:function(){this.$destroy()},destroy:function(){this.template&&
this.template.$destroy();this.destroyEl?Na(this.node)&&this.node.parentNode.removeChild(this.node):(this.node.removeAttribute("cmp-id"),this.originalId||this.node.removeAttribute("id"),this.cls&&Q(this.node,this.cls));this.destroyScope&&this.scope&&this.scope.$destroy();this.$super()}}),ma=function(a){var b=F(a,"mjsAnimationQueue"),c,d;if(B(b)&&b.length){if(b=b[0])b.stages&&(c=b.position,d=b.stages,Q(a,d[c]),Q(a,d[c]+"-active")),b.deferred&&b.deferred.reject(b.el)}else H(b)?b(a):"stop"==b&&$(a).stop(!0,
!0);F(a,"mjsAnimationQueue",null)},da=function(){var a,b;if("undefined"!=typeof window){var c=window;a=c.requestAnimationFrame||c.webkitRequestAnimationFrame||c.mozRequestAnimationFrame;b=c.cancelAnimationFrame||c.webkitCancelAnimationFrame||c.mozCancelAnimationFrame||c.webkitCancelRequestAnimationFrame;if(a)return function(c){var e=a(c);return function(){b(e)}}}return function(a){var b=setTimeout(a,0);return function(){clearTimeout(b)}}}(),hb=function(){var a=["Moz","Webkit","ms","O","Khtml"],b=
"animationDelay",c="animationDuration",d="transitionDelay",e="transitionDuration",g="transform",k=null,h=null,m=!1;return function(){if(!m){var p=window.document.createElement("div"),K=!1,q,l,N;if(void 0!==p.style.animationName)K=!0;else for(l=0,N=a.length;l<N;l++)if(q=a[l],void 0!==p.style[q+"AnimationName"]){K=!0;b=q+"AnimationDelay";c=q+"AnimationDuration";d=q+"TransitionDelay";e=q+"TransitionDuration";g=q+"Transform";break}K&&("ontransitionend"in window?k="transitionend":"onwebkittransitionend"in
window&&(k="webkitTransitionEnd"));h=K?{animationDelay:b,animationDuration:c,transitionDelay:d,transitionDuration:e,transform:g,transitionend:k}:{};m=!0}return h}}(),A=function(a){a=a||{};this._queue=[];this._map={};this.id="$$"+P();for(var b in a)this[b]=a[b]};A.REPLACE=1;A.ONCE=2;A.MULTIPLE=3;A.ONCE_EVER=4;v(A.prototype,{_queue:null,_map:null,_nextRequested:!1,_running:!1,length:0,id:null,async:!0,auto:!0,thenable:!1,stack:!1,context:null,mode:A.MULTIPLE,add:function(a,b,c,d,e,g){var k=this.id,
h=a[k]||P();b={id:h,fn:a,context:b,args:c,async:g};d=d||this.mode;if(d==A.ONCE_EVER&&a[k])return a[k];a[k]=h;if(this._map[h])if(d==A.REPLACE)this.remove(h);else if(d==A.ONCE)return h;this._queue[e?"unshift":"push"](b);this._map[h]=b;this.length=this._queue.length;this.auto&&this.next();return h},append:function(a,b,c,d,e){return this.add(a,b,c,d,!1,e)},prepend:function(a,b,c,d,e){return this.add(a,b,c,d,!0,e)},remove:function(a){var b=this._queue,c,d;c=0;for(d=b.length;c<d;c++)if(b[c].id==a){b.splice(c,
1);break}delete this._map[a]},isEmpty:function(){return 0==this.length},next:function(){var a=this,b;if(a._running)a._nextRequested=!0;else if(a._nextRequested=!1,b=a._queue[a.stack?"pop":"shift"](),a.length=a._queue.length,b)if(a._running=!0,delete a._map[b.id],a.async||b.async){var c=0;qa(b.async)?c=b.async:qa(a.async)&&(c=a.async);var d=function(){try{a._processResult(b.fn.apply(b.context||a.context,b.args||[]))}catch(c){throw R(c),a._finish(),c;}};"raf"==b.async||!b.async&&"raf"==a.async?da(d):
pa(d,null,null,c)}else try{a._processResult(b.fn.apply(b.context||a.context,b.args||[]))}catch(e){throw R(e),a._finish(),e;}},_processResult:function(a){var b=this;b.thenable&&Y(a)?a.then(function(){b._finish()},function(){b._finish()}):b._finish();return a},_finish:function(){this._running=!1;(this.auto||this._nextRequested)&&this.next()},destroy:function(){this.context=this._map=this._queue=null;this._running=this._nextRequested=!1;this.next=M}},!0,!1);var Oa=function(){var a=/(^|[^a-z0-9_$\]\)'"])(\.)([^0-9])/ig,
b=Function,c=function(a,b){return function(c){var d=S.call(arguments),e;d.push(null);d.push(a);if(b){for(e=a.apply(null,d);(void 0===e||"number"==typeof e&&isNaN(e))&&!c.$isRoot;)c=c.$parent,d[0]=c,e=a.apply(null,d);return e}return a.apply(null,d)}},d={},e=0,g={},k=0,h={},m=0,p=function(){1E3<=e&&(d={});1E3<=k&&(g={});1E3<=m&&(h={})};return{createGetter:function(g){try{return d[g]?d[g]:(e++,d[g]=c(new b("____","$$interceptor","$$itself","".concat("try {","return ",g.replace(a,"$1____.$3"),";} catch (thrownError) { return undefined; }")),
!0))}catch(k){return R(k),M}},createSetter:function(d){try{if(!g[d]){k++;var e=d.replace(a,"$1____.$3");return g[d]=c(new b("____","$$$$","$$interceptor","$$itself","".concat("try {",e," = $$$$",";} catch (thrownError) { return undefined; }")))}return g[d]}catch(h){return R(h),M}},createFunc:function(d){try{return h[d]?h[d]:(m++,h[d]=c(new b("____","$$interceptor","$$itself","".concat("try {",d.replace(a,"$1____.$3"),";} catch (thrownError) { return undefined; }"))))}catch(e){return R(e),M}},resetCache:p,
enableResetCacheInterval:function(){setTimeout(p,1E4)}}}(),J=Oa.createGetter,zb=/-./g,Wa=function(){return function(a){if(a.dataset)return a.dataset;var b;if(void 0!==(b=F(a,"data")))return b;b=a.attributes;var c={},d,e,g;d=0;for(e=b.length;d<e;d++)g=b[d].name,0===g.indexOf("data-")&&(c[Va(g.substr(5))]=b[d].value);b=c;F(a,"data",b);return b}}(),wa=t({$class:"ListRenderer",id:null,model:null,itemName:null,tpl:null,renderers:null,parentEl:null,prevEl:null,nextEl:null,trackBy:null,trackByWatcher:null,
animateMove:!1,animate:!1,trackByFn:null,griDelegate:null,tagMode:!1,queue:null,buffered:!1,bufferPlugin:null,$constructor:function(a,b,c){a=C(b,a);this.tagMode="mjs-each"==b.nodeName.toLowerCase();this.animateMove=!this.tagMode&&!a.buffered&&a.animateMove&&E.cssAnimationSupported();this.animate=!this.tagMode&&!a.buffered&&(null!==r(b,"mjs-animate")||a.animate);this.id=a.id||P();b.removeAttribute("mjs-animate");this.animate&&this.animateMove&&this.$plugins.push("plugin.ListAnimatedMove");a.observable&&
this.$plugins.push("plugin.Observable");this.tagMode&&(a.buffered=!1);a.buffered&&(this.buffered=!0,this.$plugins.push("plugin.ListBuffered"))},$init:function(a,b,c){b.removeAttribute("mjs-include");this.tagMode&&(c=r(b,"value"));this.parseExpr(c);this.tpl=this.tagMode?z(b.childNodes):b;this.renderers=[];this.prevEl=b.previousSibling;this.nextEl=b.nextSibling;this.parentEl=b.parentNode;this.node=null;this.scope=a;this.queue=new A({async:!1,auto:!0,thenable:!0,stack:!1,context:this,mode:A.ONCE});this.parentEl.removeChild(b);
this.afterInit(a,b);this.queue.add(this.render,this,[G(this.watcher.getLastResult())])},afterInit:function(a,b){var c=C(b,a);this.watcher=L(a,this.model,this.onChange,this,null,x);(this.trackBy=c.trackBy)&&"$"!=this.trackBy?this.trackByWatcher=L(a,this.trackBy,this.onChangeTrackBy,this,null,x):"$"==this.trackBy||this.watcher.hasInputPipes()||(this.trackBy="$$"+this.watcher.id);this.griDelegate=U(this.scopeGetRawIndex,this)},trigger:M,render:function(a){var b=this.renderers,c=this.tpl,d=this.parentEl,
e=this.nextEl,g=this.buffered,k=window.document.createDocumentFragment(),h,m,p;m=0;for(p=a.length;m<p;m++)h=c.cloneNode(!0),b.push(this.createItem(h,a,m)),g||(k.appendChild(h),b[m].attached=!0);g?(this.bufferPlugin.getScrollOffset(),this.bufferPlugin.updateScrollBuffer()):(d.insertBefore(k,e),this.doUpdate());this.trigger("render",this)},doUpdate:function(a,b,c,d){var e=this.renderers;a=a||0;var g=e.length;b=b||g-1;var k=this.watcher.getLastResult(),h=this.getTrackByFunction();for(b>g-1&&(b=g-1);a<=
b;a++)c&&e[a].action!=c||this.renderItem(a,e,k,h,d)},renderItem:function(a,b,c,d,e){c=c||this.watcher.getLastResult();b=b||this.renderers;d=d||this.getTrackByFunction();var g=b[a],k=g.scope;b=b.length-1;var h=!(a%2);e&&g.rendered||(k.$index=a,k.$first=0===a,k.$last=a===b,k.$even=h,k.$odd=!h,k.$trackId=d(c[a]),k.$getRawIndex=this.griDelegate,g.renderer?k.$check():(g.renderer=new ja(g.el,k),g.renderer.process(),g.rendered=!0))},createItem:function(a,b,c){var d=this.itemName,e=this.scope.$new(),g=this.tagMode;
e[d]=this.getListItem(b,c);a=g?G(a.childNodes):a;return{index:c,action:"enter",el:a,firstEl:g?a[0]:a,lastEl:g?a[a.length-1]:a,scope:e,attached:!1,rendered:!1}},onChange:function(a,b){this.queue.prepend(this.applyChanges,this,[b],A.REPLACE)},applyChanges:function(a){var b=this,c=b.renderers,d=b.tpl,e=0,g=G(b.watcher.getLastResult()),k=null,h=b.animateMove,m=b.animate,p=[],l=b.itemName,q=c.slice(),D=!1,n,u,s,t,r,v;a=b.watcher.getMovePrescription(a,b.getTrackByFunction(),g);s=0;for(t=a.length;s<t;s++)n=
a[s],qa(n)?(u=n,n=c[u],u!=e&&null===k&&(k=s),n.action="move",n.scope[l]=b.getListItem(g,s),D=h,p.push(n),c[u]=null,e++):(null===k&&(k=s),r=b.createItem(d.cloneNode(!0),g,s),p.push(r));b.renderers=p;if(m){b.doUpdate(k,null,"enter");D&&(v=b.calculateTranslates(p,q,c));var d=[],z=new w,A=new w,B=new w,C=w.counter(p.length),e=function(){C.countdown();return z};s=0;for(t=c.length;s<t;s++)if(r=c[s])r.scope.$destroy(),ma(r.el),d.push(E(r.el,"leave",null,!1,x).done(function(a){a.style.visibility="hidden"}));
s=0;for(t=p.length;s<t;s++)r=p[s],ma(r.el),"enter"==r.action?d.push(E(r.el,"enter",e,!1,x)):d.push(b.moveAnimation(r.el,D?v[s][0]:null,D?v[s][1]:null,e,A));C.done(function(){da(function(){A.resolve();b.applyDomPositions(c);D||b.doUpdate(k,null,"move");da(function(){z.resolve()});b.trigger("change",b)})});w.all(d).always(function(){da(function(){var a=hb();b.doUpdate(k||0);b.removeOldElements(c);if(D)for(b.doUpdate(k,null,"move"),s=0,t=p.length;s<t;s++)r=p[s],r.el.style[a.transform]=null,r.el.style[a.transform]=
"";B.resolve()})});return B}b.buffered?(b.bufferPlugin.getScrollOffset(),b.removeOldElements(c),b.queue.append(b.bufferPlugin.updateScrollBuffer,b.bufferPlugin,[!0])):(b.applyDomPositions(),b.doUpdate(k||0),b.removeOldElements(c));b.trigger("change",b)},removeOldElements:function(a){var b,c,d,e,g,k=this.parentEl;b=0;for(c=a.length;b<c;b++)if((d=a[b])&&d.attached)if(d.attached=!1,self.tagMode)for(e=0,g=d.el.length;e<g;e++)k.removeChild(d.el[e]);else k.removeChild(d.el)},applyDomPositions:function(a){var b=
this.renderers,c=this.parentEl,d=this.prevEl,e=this.tagMode,d=d?d.nextSibling:c.firstChild,g,k,h,m,p;k=0;for(h=b.length;k<h;k++)p=b[k],m=p.el,g=a&&a[k]?a[k].lastEl.nextSibling:0<k?b[k-1].lastEl.nextSibling||d:d,p.firstEl!==g&&(g&&p.lastEl.nextSibling!==g?c.insertBefore(e?z(m):m,g):g||c.appendChild(e?z(m):m)),p.attached=!0},getListItem:function(a,b){return a[b]},onChangeTrackBy:function(a){this.trackByFn=null;this.trackBy=a},getTrackByFunction:function(){var a;this.trackByFn||((a=this.trackBy)&&"$"!=
a?H(a)?this.trackByFn=a:this.trackByFn=function(b){return b&&!ra(b)?b[a]:void 0}:this.trackByFn=function(a){return ra(a)?a:void 0});return this.trackByFn},scopeGetRawIndex:function(a){if(void 0===a)return-1;var b=this.watcher.getUnfilteredValue(),c=this.getTrackByFunction(),d,e;d=0;for(e=b.length;d<e;d++)if(c(b[d])===a)return d;return-1},getNodePositions:function(a,b,c){return{}},calculateTranslates:function(a,b,c){return[]},moveAnimation:function(a,b,c,d,e){return E(a,"move",d,!1,x)},scrollTo:function(){},
parseExpr:function(a){a=a.split(" ");var b,c,d,e,g;b=0;for(c=a.length;b<c;b++)if(g=a[b],""!=g&&"in"!=g)if(e){d=a.slice(b).join(" ");break}else e=g;this.model=d;this.itemName=e||"item"},destroy:function(){var a=this.renderers,b,c;b=0;for(c=a.length;b<c;b++)a[b].renderer.$destroy();this.trackByWatcher&&this.trackByWatcher.unsubscribeAndDestroy();this.queue.destroy();this.watcher.unsubscribeAndDestroy(this.onChange,this)}},{$stopRenderer:!0,$registerBy:"id"}),ib=na.current;t({$class:"View",route:null,
node:null,scope:null,cmp:null,id:null,currentViewId:null,currentComponent:null,cmpCache:null,domCache:null,currentView:null,watchable:null,defaultCmp:null,currentCls:null,currentHtmlCls:null,$init:function(a){v(this,a,!0,!1);a=this.node;var b=C(a,this.scope);v(this,b,!0,!1);a&&a.firstChild&&F(a,"mjs-transclude",z(a.childNodes));this.id||(this.id=P());this.cmpCache={};this.domCache={};this.initView();this.scope.$app.registerCmp(this,this.scope,"id");this.route?(na.init(),na.on("locationChange",this.onLocationChange,
this),this.initRouteIds(),this.onLocationChange()):this.cmp&&(this.watchable=L(this.scope,this.cmp,this.onCmpChange,this,null,x),this.onCmpChange())},initView:function(){},initRouteIds:function(){var a=this.route,b,c;b=0;for(c=a.length;b<c;b++)a[b].id=a[b].id||P()},onCmpChange:function(){var a=this.watchable.getLastResult()||this.defaultCmp;this.clearComponent();a&&this.setComponent(a)},onLocationChange:function(){var a=ib(),b=this.route,c=this.currentView||{},d,e,g,k,h;e=0;for(g=b.length;e<g;e++){k=
b[e];if(k.reg&&(h=a.match(k.reg))){this.changeRouteComponent(k,h);return}k["default"]&&!d&&(d=k)}d?d.id!=c.id&&(this.clearComponent(),this.setRouteClasses(d),this.setRouteComponent(d,[])):this.defaultCmp&&(this.clearComponent(),this.currentView=null,this.setComponent(this.defaultCmp))},changeRouteComponent:function(a,b){a.id!=(this.currentView||{}).id&&(ma(this.node),this.clearComponent(),this.setRouteClasses(a),this.setRouteComponent(a,b))},setRouteClasses:function(a){a.cls&&(this.currentCls=a.cls,
Z(this.node,a.cls));a.htmlCls&&(this.currentHtmlCls=a.htmlCls,Z(window.document.documentElement,a.htmlCls))},clearComponent:function(){var a=this,b=a.node,c=a.currentView||{};a.currentCls&&Q(a.node,a.currentCls);a.currentHtmlCls&&Q(window.document.documentElement,a.currentHtmlCls);a.currentComponent&&E(b,"leave",null,!0).done(function(){if(c.keepAlive)for(var d=a.domCache[c.id];b.firstChild;)d.appendChild(b.firstChild);else for(a.currentComponent.destroy();b.firstChild;)b.removeChild(b.firstChild);
a.currentComponent=null})},setRouteComponent:function(a,b){var c=this,d=c.node,e=a.params;c.currentView=a;E(d,"enter",function(){var g=b||[],k={destroyEl:!1,node:d,scope:a.$isolateScope?c.scope.$newIsolated():c.scope.$new()},h,m;a.as&&(k.as=a.as);a.template&&(k.template=a.template);g.shift();if(e)for(h=-1,m=e.length;++h<m;k[e[h]]=g[h]);if(c.cmpCache[a.id])c.currentComponent=c.cmpCache[a.id],d.appendChild(c.domCache[a.id]);else return ga(a.cmp||"MetaphorJs.Component",k,k.scope,d,null,g).done(function(b){c.currentComponent=
b;a.keepAlive&&(c.cmpCache[a.id]=b,c.domCache[a.id]=window.document.createDocumentFragment())})},!0)},setComponent:function(a){var b=this,c=b.node;E(c,"enter",function(){var d=Ba(a)?a:{},e=(I(a)?a:null)||"MetaphorJs.Component",g=d.scope||b.scope.$new();d.destroyEl=!1;return ga(e,d,g,c).done(function(a){b.currentComponent=a})},!0)},destroy:function(){this.clearComponent();this.route&&(na.un("locationchange",this.onLocationChange,this),this.route=null);this.watchable&&(this.watchable.unsubscribeAndDestroy(this.onCmpChange,
this),this.watchable=null);this.currentComponent=this.scope=null;this.$super()}});l.registerAttribute("mjs-app",100,ba);l.registerAttribute("mjs-bind",1E3,t({$extends:l,isInput:!1,input:null,lockInput:null,recursive:!1,textRenderer:null,$init:function(a,b,c){var d=C(b,a);this.isInput=Fa(b);this.recursive=d.recursive||null!==r(b,"mjs-recursive");this.lockInput=d.lockInput;b.removeAttribute("mjs-recursive");this.isInput&&(this.input=new fa(b,this.onInputChange,this));this.recursive?(this.scope=a,this.node=
b,this.textRenderer=new Ka(a,"{{"+c+"}}",null,null,!0),this.textRenderer.subscribe(this.onTextRendererChange,this),this.onTextRendererChange(),a instanceof O&&a.$on("destroy",this.onScopeDestroy,this)):this.$super(a,b,c)},onInputChange:function(){if(this.lockInput)this.onChange()},onTextRendererChange:function(){this.updateElement(this.textRenderer.getString())},onChange:function(){var a=this.watcher.getLastResult();this.updateElement(a)},updateElement:function(a){this.isInput?this.input.setValue(a):
this.node["string"==typeof this.node.textContent?"textContent":"innerText"]=a},destroy:function(){this.textRenderer&&(this.textRenderer.$destroy(),this.textRenderer=null);this.input&&(this.input.destroy(),this.input=null);this.$super()}}));l.registerAttribute("mjs-bind-html",1E3,t({$extends:"attr.mjs-bind",updateElement:function(a){this.node.innerHTML=a}}));l.registerAttribute("mjs-break-if",500,function(a,b,c){(a=!!J(c)(a))&&b.parentNode.removeChild(b);return!a});(function(){var a=function(a,b,e,
g){if(null!==e){if(e==oa(a,b))return;e=!e}else e=oa(a,b);e?g?E(a,[b+"-remove"],null,!0).done(function(){Q(a,b)}):Q(a,b):g?E(a,[b+"-add"],null,!0).done(function(){Z(a,b)}):Z(a,b)},b=function(a){var b={},e,g,k;if(!a)return b;if(I(a))b[a]=!0;else if(B(a))for(e=-1,k=a.length;++e<k;b[a[e]]=!0);else for(e in a)if("_"==e)for(g=-1,k=a._.length;++g<k;b[a._[g]]=!0);else b[e]=a[e];return b};l.registerAttribute("mjs-class",1E3,t({$extends:l,initial:!0,onChange:function(){var c=this.node,d=b(this.watcher.getLastResult()),
e=b(this.watcher.getPrevValue()),g;ma(c);for(g in e)e.hasOwnProperty(g)&&void 0===d[g]&&a(c,g,!1,!1);for(g in d)d.hasOwnProperty(g)&&a(c,g,d[g]?!0:!1,!this.initial);this.initial=!1}}))})();l.registerAttribute("mjs-cmp-prop",200,["$parentCmp","$node","$attrValue",function(a,b,c){a&&(a[c]=b)}]);(function(){var a=function(a,c,d,e){var g,k,h,m,p,l=C(c,a);d=d.split(" ");h=0;for(m=d.length;h<m;h++)p=d[h],""!=p&&"as"!=p&&(g?k=p:g=p);d=X(g,!0);h=l.sameScope||d.$sameScope;a=l.isolateScope||d.$isolateScope?
a.$newIsolated():h?a:a.$new();e=v({scope:a,node:c,as:k,parentRenderer:e,destroyScope:!0},l,!1,!1);ga(g,e,a,c);return!!d.$shadow};a.$breakScope=!1;l.registerAttribute("mjs-cmp",200,a)})();l.registerAttribute("mjs-config",50,function(a,b,c){C(b,a,c)});l.registerAttribute("mjs-each",100,wa);var ha=function(a){if(a instanceof ha)return a;if(!(this instanceof ha))return new ha(a);for(var b in a)if(!this[b])try{this[b]=a[b]}catch(c){}this.originalEvent=a;this.type=a.type;!this.target&&a.srcElement&&(this.target=
a.srcElement);var d,e=a.button;void 0===this.pageX&&null!==a.clientX&&(d=this.target?this.target.ownerDocument||window.document:window.document,b=d.documentElement,d=d.body,this.pageX=a.clientX+(b&&b.scrollLeft||d&&d.scrollLeft||0)-(b&&b.clientLeft||d&&d.clientLeft||0),this.pageY=a.clientY+(b&&b.scrollTop||d&&d.scrollTop||0)-(b&&b.clientTop||d&&d.clientTop||0));this.which||void 0===e||(this.which=e&1?1:e&2?3:e&4?2:0);this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&!1===a.returnValue?
la:ba;this.timeStamp=a&&a.timeStamp||(new Date).getTime()};v(ha.prototype,{isDefaultPrevented:ba,isPropagationStopped:ba,isImmediatePropagationStopped:ba,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=la;a.returnValue=!1;a&&a.preventDefault&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=la;a&&a.stopPropagation&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=
la;a&&a.stopImmediatePropagation&&a.stopImmediatePropagation();this.stopPropagation()}},!0,!1);var Pa=function(a){function b(){d=null}var c,d;a=function(a){return function(g){var k=Ga(g||window.event),h=S.call(arguments,1),m=0,p=0,l=0,q=0,r=0,n=0;k.type="mousewheel";"detail"in k&&(l=-1*k.detail);"wheelDelta"in k&&(l=k.wheelDelta);"wheelDeltaY"in k&&(l=k.wheelDeltaY);"wheelDeltaX"in k&&(p=-1*k.wheelDeltaX);"axis"in k&&k.axis===k.HORIZONTAL_AXIS&&(p=-1*l,l=0);m=0===l?p:l;"deltaY"in k&&(m=l=-1*k.deltaY);
"deltaX"in k&&(p=k.deltaX,0===l&&(m=-1*p));if(0!==l||0!==p){q=Math.max(Math.abs(l),Math.abs(p));if(!d||q<d)d=q,"mousewheel"===k.type&&0===q%120&&(d/=40);"mousewheel"===k.type&&0===q%120&&(m/=40,p/=40,l/=40);m=Math[1<=m?"floor":"ceil"](m/d);p=Math[1<=p?"floor":"ceil"](p/d);l=Math[1<=l?"floor":"ceil"](l/d);this.getBoundingClientRect&&(q=this.getBoundingClientRect(),r=k.clientX-q.left,n=k.clientY-q.top);k.deltaX=p;k.deltaY=l;k.deltaFactor=d;k.offsetX=r;k.offsetY=n;k.deltaMode=0;h.unshift(k,m,p,l);c&&
clearTimeout(c);c=setTimeout(b,200);return a.apply(this,h)}}};a.events=function(){var a=window.document;return"onwheel"in a||9<=a.documentMode?["wheel"]:["mousewheel","DomMouseScroll","MozMousePixelScroll"]};return a}(),ca=function(){var a=null,b=null;return function(c,d,e){null===a&&(a=c.attachEvent?"attachEvent":"addEventListener",b=c.attachEvent?"on":"");if("mousewheel"==d){e=Pa(e);d=Pa.events();var g,k;g=0;for(k=d.length;g<k;g++)c[a](b+d[g],e,!1)}else c[a](b+d,e,!1);return e}}(),va=function(){var a=
null,b=null;return function(c,d,e){null===a&&(a=c.detachEvent?"detachEvent":"removeEventListener",b=c.detachEvent?"on":"");c[a](b+d,e)}}(),jb=function(a,b,c){if(window.getComputedStyle){if(a===window)return b?c?0:null:{};a=getComputedStyle(a,null)}else a=a.currentStyle||a.style||{};b=b?a[b]:a;return c?parseFloat(b)||0:b},kb=function(){var a;return function(){if(void 0===a){var b=window.document,c=b.createElement("div"),d=b.createElement("div"),b=b.body;d.style&&window.getComputedStyle?(c.style.cssText=
"border:0;width:0;height:0;top:0;left:-9999px;margin-top:1px;position:absolute",c.appendChild(d),d.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;display:block;margin-top:1%;top:1%;border:1px;padding:1px;width:4px;position:absolute",d.innerHTML="",b.appendChild(c),d="4px"===window.getComputedStyle(d,null).width,b.removeChild(c),a=d):a=!1}return a}}(),Qa=function(a,b){var c=/^([+-]?(?:d*.|)d+(?:[eE][+-]?d+|))(?!px)[a-z%]+$/i,d=["Top","Right","Bottom",
"Left"],e=a?"inner"==a?"padding":"":"content";return function(a,k){if(a===window)return a.document.documentElement["client"+b];if(9===a.nodeType){var h=a.documentElement;return Math.max(a.body["scroll"+b],h["scroll"+b],a.body["offset"+b],h["offset"+b],h["client"+b])}a:{var m=b.toLowerCase(),l=e||(!0===k?"margin":"border"),h=jb(a),r=!0,q="width"===m?a.offsetWidth:a.offsetHeight,n="border-box"===h.boxSizing;if(0>=q||null==q){q=a.style[m];if(c.test(q)){h=q;break a}r=n&&(kb()||q===a.style[m]);q=parseFloat(q)||
0}l=l||(n?"border":"content");m=l===(r?"border":"content")?4:"width"===m?1:0;for(n=0;4>m;m+=2)"margin"===l&&(n+=parseFloat(h[l+d[m]])),r?("content"===l&&(n-=parseFloat(h["padding"+d[m]])),"margin"!==l&&(n-=parseFloat(h["border"+d[m]+"Width"]))):(n+=parseFloat(h["padding"+d[m]]),"padding"!==l&&(n+=parseFloat(h["border"+d[m]+"Width"])));h=q+n}return h}},lb=Qa("","Width"),mb=Qa("","Height"),Ra=function(a){var b,c=a?"pageYOffset":"pageXOffset",d=a?"scrollTop":"scrollLeft";a=window.document;var e=a.body,
g=a.documentElement;b=void 0!==window[c]?function(){return window[c]}:g.clientHeight?function(){return g[d]}:function(){return e[d]};return function(a){return a&&a!==window?a&&1==a.nodeType&&a!==e&&a!==g?a[d]:b():b()}},nb=Ra(!0),ob=Ra(!1),pb=function(){var a=t({queue:null,observable:null,handlerDelegate:null,triggerDelegate:null,watchers:null,breaks:null,running:!1,lastEvent:null,currentEvent:null,interval:null,$init:function(a,c,d){var e="$$"+c+"_"+d;if(a[e])return a[e];a[e]=this;this.breaks={};
this.watchers={};this.node=a;this.event=c;this.observable=new ea;this.interval=d||0;this.handlerDelegate=U(this.handler,this);this.triggerDelegate=U(this.trigger,this);this.up()},handler:function(a){this.running?a&&(this.lastEvent=a):this.next(a)},next:function(a){var c=this.interval;if(a=a||this.lastEvent)this.lastEvent=null,this.running=!0,this.currentEvent=a,"raf"==c?da(this.triggerDelegate):setTimeout(this.triggerDelegate,c)},watchWidth:function(){this.addWatcher("width",lb)},watchHeight:function(){this.addWatcher("width",
mb)},watchScrollTop:function(){this.addWatcher("scrollTop",nb)},watchScrollLeft:function(){this.addWatcher("scrollLeft",ob)},addWatcher:function(a,c,d){this.watchers[a]={fn:c,context:d,prev:null,current:parseInt(c.call(d,this.node),10)}},removeWatcher:function(a){delete this.watchers[a]},breakFilter:function(a,c,d){a=a.breakValue;var e=this.watchers[d.watcher];d=e.current;var g=e.prev,e=Math.min(g,d),g=Math.max(g,d);c[0].breakPosition=d<a?-1:1;return e<=a&&a<=g},onBreak:function(a,c,d,e,g){var k=
a+"_"+c;g=g||{};g.breakValue=c;this.breaks[k]||(this.breaks[k]=this.observable.createEvent(k,{watcher:a,triggerFilter:this.breakFilter,filterContext:this}));this.breaks[k].on(d,e,g)},unBreak:function(a,c,d,e,g){a=a+"_"+c;this.breaks[a]&&(this.breaks[a].un(d,e),this.breaks[a].hasListener()||(this.breaks[a].destroy(),delete this.breaks[a]));g&&this.destroyIfIdle()},on:function(a,c){this.observable.on(this.event,a,c)},un:function(a,c,d){this.observable.un(this.event,a,c);d&&this.destroyIfIdle()},trigger:function(){var a=
this.currentEvent,c=this.watchers,d=this.breaks,e=this.node,g,k;this.observable.trigger(this.event,a);for(g in c)c[g].prev=c[g].current,c[g].current=parseInt(c[g].fn.call(c[g].context,e,a),10);for(k in d)d[k].trigger(a);this.running=!1;this.currentEvent=null;this.next()},up:function(){ca(this.node,this.event,this.handlerDelegate)},down:function(){va(this.node,this.event,this.handlerDelegate)},destroyIfIdle:function(){if(!this.observable.hasListener())return this.$destroy(),!0},destroy:function(){this.down();
this.observable.destroy();this.queue.destroy()}},{get:function(b,c,d){var e="$$"+c+"_"+d;return b[e]?b[e]:b[e]=new a(b,c,d)}});return a}(),Sa=t({cfg:null,scope:null,node:null,listeners:null,event:null,buffers:null,$init:function(a,b,c,d,e){this.event=d;e=e||{};c=c||{};"string"==typeof c&&(d=c.substr(0,1),"{"==d?(this.watcher=L(a,c,this.onConfigChange,this),c=this.watcher.getLastResult()):"="==d?(c=c.substr(1),this.watcher=L(a,c,this.onConfigChange,this),c=this.watcher.getLastResult()):c={handler:J(c)});
this.prepareConfig(c,e);this.buffers={};this.listeners=[];this.scope=a;this.node=b;this.up()},prepareConfig:function(a,b){var c,d=this.event;if(a.event){c={};var d=a.event.split(","),e,g;delete a.event;e=0;for(g=d.length;e<g;e++)c[T(d[e])]=a;a=c}else d&&(c={},c[d]=a,a=c);v(a,b,!1,!1);this.cfg=a},onConfigChange:function(a){this.down();this.prepareConfig(a);this.up()},createHandler:function(a,b){return function(c){var d,e=!0,g=!1,k=!1;void 0!==a.preventDefault&&(e=a.preventDefault);void 0!==a.stopPropagation&&
(k=a.stopPropagation);void 0!==a.returnValue&&(g=a.returnValue);void 0!==a.keyCode&&(d=a.keyCode);c=Ga(c||window.event);if(d&&("number"==typeof d&&d!=c.keyCode||-1==d.indexOf(c.keyCode)))return null;b.$event=c;a.handler&&a.handler.call(a.context||null,b);b.$event=null;b.$root.$check();k&&c.stopPropagation();e&&c.preventDefault();return g}},up:function(){var a=this.cfg,b=this.listeners,c=this.buffers,d=this.node,e=this.scope,g=a.buffer,k,h;for(h in a)if(void 0===a.if||a.if)k=this.createHandler(a[h],
e),b.push([h,k]),g?c[h]||(c[h]=pb.get(d,h,g),c[h].on(k)):ca(d,h,k)},down:function(){var a=this.listeners,b=this.buffers,c=this.node,d=this.cfg.buffer,e,g,k,h;k=0;for(h=a.length;k<h;k++)e=a[k][0],g=a[k][1],d?(b[e].un(g),!0===b[e].destroyIfIdle()&&delete b[e]):va(c,e,g);this.listeners=[]},destroy:function(){this.down();this.watcher&&this.watcher.unsubscribeAndDestroy(this.onConfigChange,this)}});(function(){l.registerAttribute("mjs-event",1E3,function(a,b,c){var d=new Sa(a,b,c);return function(){d.$destroy();
d=null}})})();(function(){var a="click dblclick mousedown mouseup mouseover mouseout mousemove keydown keyup keypress submit focus blur copy cut paste mousewheel touchstart touchend touchcancel touchleave touchmove".split(" "),b,c;b=0;for(c=a.length;b<c;b++)(function(a){l.registerAttribute("mjs-"+a,1E3,function(b,c,k){var h=new Sa(b,c,k,a,{stopPropagation:!0});return function(){h.$destroy();h=null}})})(a[b]);a=null})();l.registerAttribute("mjs-show",500,t({$extends:l,initial:!0,display:"",$init:function(a,
b,c){this.display=C(b,a).display||"";this.$super(a,b,c)},runAnimation:function(a){var b=this,c=b.node.style,d=function(){c.display=a?b.display:"none"};b.initial?d():E(b.node,a?"show":"hide",function(){a&&(c.display=b.display)},!0).done(d)},onChange:function(){var a=this.watcher.getLastResult();this.runAnimation(a);this.initial=!1}}));l.registerAttribute("mjs-hide",500,t({$extends:"attr.mjs-show",onChange:function(){var a=this.watcher.getLastResult();this.runAnimation(!a);this.initial=!1}}));l.registerAttribute("mjs-if",
500,l.$extend({parentEl:null,prevEl:null,el:null,initial:!0,cfg:null,$init:function(a,b,c){this.parentEl=b.parentNode;this.prevEl=b.previousSibling;this.$super(a,b,c)},onScopeDestroy:function(){this.parentEl=this.prevEl=null;this.$super()},onChange:function(){var a=this,b=a.watcher.getLastResult(),c=a.parentEl,d=a.node,e=function(){a.prevEl?c.insertBefore(d,a.prevEl?a.prevEl.nextSibling:null):c.appendChild(d)},g=function(){c.removeChild(d)};b?a.initial?e():E(d,"enter",e,!0):d.parentNode&&(a.initial?
g():E(d,"leave",null,!0).done(g));a.initial?a.initial=!1:(a.cfg||(a.cfg=C(d,a.scope)),a.cfg.ifOnce&&a.$destroy())}}));l.registerAttribute("mjs-ignore",0,ba);l.registerAttribute("mjs-include-file",900,function(a,b,c){a=require("fs");b.innerHTML=a.readFileSync(c).toString()});l.registerAttribute("mjs-include",900,function(a,b,c,d){a=new aa({scope:a,node:b,url:c,parentRenderer:d});return a.ownRenderer?!1:a.initPromise});var Ta=Oa.createFunc;l.registerAttribute("mjs-init",250,function(a,b,c){Ta(c)(a)});
l.registerAttribute("mjs-key",1E3,function(a,b,c){var d=J(c)(a),e=d.handler,g=d.context||a;delete d.handler;delete d.context;fa.get(b).onKey(d,e,g);return function(){fa.get(b).unKey(d,e,g)}});var xa=function(){var a;return function(){if(null===a){var b=navigator.userAgent;a=parseInt((/msie (\d+)/i.exec(b)||[])[1],10);isNaN(a)&&(a=parseInt((/trident\/.*; rv:(\d+)/i.exec(b)||[])[1],10)||!1)}return a}}();l.registerAttribute("mjs-model",1E3,l.$extend({inProg:!1,input:null,binding:null,autoOnChange:!1,
$init:function(a,b,c){var d=C(b,a);this.node=b;this.input=fa.get(b);this.binding=d.binding||"both";this.input.onChange(this.onInputChange,this);this.$super(a,b,c);a=this.input.getValue();b=this.watcher.getLastResult();if(b!=a)if("input"!=this.binding&&void 0!=b)this.onChange(b);else if("scope"!=this.binding&&void 0!=a)this.onInputChange(a)},onInputChange:function(a){var b=this.scope;"scope"!=this.binding&&(a&&I(a)&&-1!=a.indexOf("\\{")&&(a=a.replace(/\\{/g,"{")),this.watcher.getLastResult()!=a&&(this.watcher.setValue(a),
this.inProg=!0,b instanceof O?b.$root.$check():this.watcher.checkAll(),this.inProg=!1))},destroy:function(){this.input.destroy();this.$super()},onChange:function(){var a=this.watcher.getLastResult()||"",b;"input"==this.binding||this.inProg||((b=xa())&&8>b?pa(this.input.setValue,this.input,[a]):this.input.setValue(a))}}));l.registerAttribute("mjs-on",1E3,function(a,b,c){var d=J(c)(a),e=function(b){var c,e,h,l,n;h=0;for(l=d.length;h<l;h++)c=d[h],e=c[0],(c=c[1])&&e&&(c[b]||c["$"+b])&&(n=c[b]||c["$"+
b],n.call(c,e,a.$check,a))};e("on");return function(){e("un");d=null}});l.registerAttribute("mjs-options",100,t({$extends:l,model:null,getterFn:null,defOption:null,prevGroup:null,groupEl:null,fragment:null,$init:function(a,b,c){this.parseExpr(c);this.node=b;this.scope=a;for(this.defOption=b.options.length?b.options[0]:null;b.firstChild;)b.removeChild(b.firstChild);this.defOption&&this.defOption.setAttribute("mjs-default-option","");try{this.watcher=L(a,this.model,this.onChange,this,null,x)}catch(d){R(d)}this.render(G(this.watcher.getValue()))},
onChange:function(){this.render(G(this.watcher.getValue()))},renderOption:function(a,b,c){var d=this.groupEl||this.fragment,e=xa();c.item=a;c.$index=b;a=this.getterFn(c);void 0!=a.group&&(a.group=""+a.group);a.group!==this.prevGroup&&(a.group?(this.groupEl=d=window.document.createElement("optgroup"),d.setAttribute("label",a.group),a.disabledGroup&&d.setAttribute("disabled","disabled"),this.fragment.appendChild(d)):(d=this.fragment,this.groupEl=null));this.prevGroup=a.group;b=window.document.createElement("option");
b.setAttribute("value",a.value);b.text=a.name;e&&9>e&&(b.innerHTML=a.name);a.disabled&&b.setAttribute("disabled","disabled");d.appendChild(b)},render:function(a){var b=this.node,c=Ab(b),d=this.defOption,e=this.scope.$new(),g=xa(),h,l,m,n;this.fragment=window.document.createDocumentFragment();for(this.groupEl=this.prevGroup=null;b.firstChild;)b.removeChild(b.firstChild);m=0;for(n=a.length;m<n;m++)this.renderOption(a[m],m,e);d&&b.insertBefore(d,b.firstChild);e.$destroy();g&&8>g&&(l=b.nextSibling,h=
b.parentNode,h.removeChild(b));b.appendChild(this.fragment);this.fragment=null;g&&8>g&&h.insertBefore(b,l);Bb(b,c)},parseExpr:function(a){var b=a.indexOf(" in "),c;-1==b?(c=a,a="{name: .item, value: .$index}"):(c=a.substr(b+4),a=a.substr(0,b));this.model=c;this.getterFn=J(a)}}));(function(){var a="selected checked disabled readonly open required".split(" "),b,c,d=t({$extends:l,propName:null,$init:function(a,b,c,d){this.propName=d;this.$super(a,b,c)},onChange:function(a){var b=this.propName;a?this.node.setAttribute(b,
b):this.node.removeAttribute(b)}});b=0;for(c=a.length;b<c;b++)(function(a){l.registerAttribute("mjs-"+a,1E3,function(b,c,h){return new d(b,c,h,a)})})(a[b])})();var Ua=function(){var a={},b=0;return function(c){if(a[c])return w.resolve(c);1E3<b&&(a={},b=0);var d=window.document,e=d.createElement("img"),g=e.style,h=new w;ca(e,"load",function(){a[c]=!0;b++;d.body.removeChild(e);h.resolve(c)});g.position="absolute";g.visibility="hidden";g.left="-10000px";g.top="0";e.src=c;d.body.appendChild(e);return h}}();
l.registerAttribute("mjs-src",1E3,t({$extends:l,queue:null,usePreload:!0,$constructor:function(a,b,c){var d=C(b,a);d.deferred&&this.$plugins.push("plugin.SrcDeferred");d.preloadSize&&this.$plugins.push("plugin.SrcSize");if(d.srcPlugin){var d=d.srcPlugin.split(","),e,g;e=0;for(g=d.length;e<g;e++)this.$plugins.push(T(d[e]))}this.$super(a,b,c)},$init:function(a,b,c){C(b,a).noPreload?this.usePreload=!1:b.style.visibility="hidden";this.queue=new A({auto:!0,async:!0,mode:A.ONCE,thenable:!0});this.$super(a,
b,c)},onChange:function(){this.queue.add(this.doChange,this)},doChange:function(){var a=this,b=a.watcher.getLastResult();if(a.usePreload)return Ua(b).done(function(){a&&a.node&&da(function(){a.node.src=b;a.node.setAttribute("src",b);a.onSrcChanged();a.node.style.visibility=""})});a.node.src=b;a.node.setAttribute("src",b);a.onSrcChanged()},onSrcChanged:function(){},destroy:function(){this.queue.destroy();this.$super()}}));l.registerAttribute("mjs-transclude",1E3,function(a,b){return Ha(b)});l.registerAttribute("mjs-view",
200,function(a,b,c){ga(c||"MetaphorJs.View",{scope:a,node:b},a,b);return!1});l.registerTag("mjs-bind-html",function(a,b){var c=r(b,"value"),c=L(a,c,null,null,null,x),d=c.getLastResult(),d=z(d),e=b.nextSibling,g=G(d.childNodes);b.parentNode.insertBefore(d,e);b.parentNode.removeChild(b);c.unsubscribeAndDestroy();return g});l.registerTag("mjs-bind",function(a,b){var c=r(b,"value"),c=J(c)(a),c=window.document.createTextNode(c);b.parentNode.insertBefore(c,b.nextSibling);b.parentNode.removeChild(b);return[c]});
l.registerTag("mjs-each",wa);l.registerTag("mjs-if",function(a,b){var c=r(b,"value");if(J(c)(a)){var c=G(b.childNodes),d=z(b.childNodes);b.parentNode.insertBefore(d,b.nextSibling);b.parentNode.removeChild(b);return c}b.parentNode.removeChild(b);return!1});l.registerTag("mjs-include",function(a,b,c,d){return(new aa({scope:a,node:b,url:r(b,"src"),parentRenderer:d,replace:!0})).initPromise});l.registerTag("mjs-tag",function(a,b){var c=r(b,"value");if(c=J(c)(a)){for(var c=window.document.createElement(c),
d=b.nextSibling,e=Aa(b),g;b.firstChild;)c.appendChild(b.firstChild);delete e.value;for(g in e)c.setAttribute(g,e[g]);b.parentNode.insertBefore(c,d);b.parentNode.removeChild(b);return[c]}b.parentNode.removeChild(b);return!1});l.registerTag("mjs-transclude",function(a,b){return Ha(b,!0)});n("filter.collect",function(a,b,c){b=[];var d,e,g;d=0;for(e=a.length;d<e;d++)g=a[d][c],void 0!=g&&b.push(g);return b});var qb=function(){var a=function(a,b,c){if(H(b))return b(a,c);if(""===b||void 0===b)return!0;if(void 0!==
a){if(ka(a))return a===b;if(b instanceof RegExp)return b.test(""+a);if("strict"==c)return""+a===""+b;if(!0===c||null===c||void 0===c)return-1!=""+a.indexOf(b);if(!1===c)return-1==""+a.indexOf(b)}return!1},b=function(b,c,g){if(ra(b))return void 0===c.$?!0:a(b,c.$,g);var h,l;for(h in c)if("$"==h)for(l in b){if(a(b[l],c.$,g))return!0}else if(a(b[h],c[h],g))return!0;return!1},c=function(a,c,g){V(c)||(c={$:c});var h=[],l,m;l=-1;for(m=a.length;++l<m;)b(a[l],c,g)&&h.push(a[l]);return h};c.compare=b;return c}();
n("filter.filter",function(a,b,c,d){return qb(a,c,d)});n("filter.get",function(a,b,c){for(b=(""+c).split(".");c=b.shift();)if(a=a[c],void 0==a)return;return a});n("filter.join",function(a,b,c){c=c||", ";return a&&a.length?(B(a)||(a=G(a)),a.join(c)):""});n("filter.l",function(a,b){return b.$app.lang.get(a)});n("filter.limitTo",function(a,b,c){b=I(a);if(!B(a)&&!b)return a;c=Infinity===Math.abs(Number(c))?Number(c):parseInt(c,10);if(b)return c?0<=c?a.slice(0,c):a.slice(c,a.length):"";b=[];var d;c>a.length?
c=a.length:c<-a.length&&(c=-a.length);0<c?d=0:(d=a.length+c,c=a.length);for(;d<c;d++)b.push(a[d]);return b});n("filter.linkify",function(a,b,c){return a?a.replace(/(\b(https?|ftp|file):\/\/[-A-Z0-9+&@#\/%?=~_|!:,.;]*[-A-Z0-9+&@#\/%=~_|])/ig,'<a href="$1"'+(c?' target="'+c+'"':"")+">$1</a>"):""});n("filter.lowercase",function(a){return a.toLowerCase()});n("filter.map",function(a,b,c){var d=X(c,!0)||window[c]||J(c)(b);if(d)for(b=0,c=a.length;b<c;b++)a[b]=d(a[b]);return a});var rb={};n("filter.moment",
function(a,b,c){c=rb[c]||c;return moment(a).format(c)});var sb={};n("filter.numeral",function(a,b,c){c=sb[c]||c;return numeral(a).format(c)});n("filter.offset",function(a,b,c){b=I(a);if(!B(a)&&!b)return a;c=Infinity===Math.abs(Number(c))?Number(c):parseInt(c,10);return b?a.substr(c):a.slice(c)});n("filter.p",function(a,b,c){return b.$app.lang.plural(a,parseInt(c,10)||0)});n("filter.preloaded",function(a,b){var c=Ua(a);if(c.isFulfilled())return!0;c.done(function(){b.$check()});return!1});n("filter.sortBy",
function(a,b,c,d){return Ya(a,c,d)});n("filter.split",function(a,b,c,d){d=d||void 0;c=c||"/\\n|,/";if(!a)return[];a=""+a;"/"==c.substr(0,1)&&"/"==c.substr(c.length-1)&&(c=Da(c.substring(1,c.length-1)));a=a.split(c,d);b=-1;for(c=a.length;++b<c;a[b]=T(a[b]));return a});n("filter.toArray",function(a){if(V(a)){var b=[],c;for(c in a)a.hasOwnProperty(c)&&b.push({key:c,value:a[c]});return b}return G(a)});n("filter.ucfirst",function(a){return a.substr(0,1).toUpperCase()+a.substr(1)});n("filter.uppercase",
function(a){return a.toUpperCase()});var Db=function(){var a="undefined"!=typeof window?window:null,b="undefined"!=typeof global?global:null;return function d(e,g){if(a&&e===a)throw Error("Cannot copy window object");if(b&&e===b)throw Error("Cannot copy global object");if(g){if(e===g)throw Error("Objects are identical");if(B(e))for(var h=g.length=0,l=e.length;h<l;h++)g.push(d(e[h]));else{for(h in g)delete g[h];for(h in e)e.hasOwnProperty(h)&&("$"==h.charAt(0)||H(e[h])?g[h]=e[h]:g[h]=d(e[h]))}}else(g=
e)&&(B(e)?g=d(e,[]):ua(e)?g=new Date(e.getTime()):ta(e)?g=new RegExp(e.source):V(e)&&(g=d(e,{})));return g}}(),Eb=function(){return function b(c,d){if(c===d)return!0;if(null===c||null===d)return!1;if(c!==c&&d!==d)return!0;var e=typeof c,g;if(e==typeof d&&"object"==e)if(B(c)){if(!B(d))return!1;if((e=c.length)==d.length){for(g=0;g<e;g++)if(!b(c[g],d[g]))return!1;return!0}}else{if(ua(c))return ua(d)&&c.getTime()==d.getTime();if(ta(c)&&ta(d))return c.toString()==d.toString();if(Ia(c)||Ia(d)||B(d))return!1;
e={};for(g in c)if("$"!=g.charAt(0)&&!H(c[g])){if(!b(c[g],d[g]))return!1;e[g]=!0}for(g in d)if(!e.hasOwnProperty(g)&&"$"!=g.charAt(0)&&void 0!==d[g]&&!H(d[g]))return!1;return!0}return!1}}(),Fb=function(){var a=Object.prototype.toString,b=Function.prototype.toString,c=/^\[object .+?Constructor\]$/,d=RegExp("^"+String(a).replace(/[.*+?^${}()|[\]\/\\]/g,"\\$&").replace(/toString|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");return function(e){var g=typeof e;return"function"==g?!("prototype"in
e)||d.test(b.call(e)):e&&"object"==g&&c.test(a.call(e))||!1}}(),Gb=function(){return"undefined"!=typeof JSON?function(a){return JSON.parse(a)}:function(a){return(new Function("return "+a))()}}(),tb=wa.$extend({store:null,$constructor:function(a,b,c){var d=C(b,a);d.pullNext&&(d.buffered&&(d.bufferedPullNext=!0,d.buffered=!1),this.$plugins.push("plugin.ListPullNext"));this.$super(a,b,c)},afterInit:function(a,b,c){this.store=a=J(this.model)(a);this.watcher=L(a,".current",this.onChange,this,null,x);this.trackByFn=
U(a.getRecordId,a);this.griDelegate=U(a.indexOfId,a);this.bindStore(a,"on")},bindStore:function(a,b){a[b]("update",this.onStoreUpdate,this);a[b]("clear",this.onStoreUpdate,this);a[b]("destroy",this.onStoreDestroy,this)},onStoreUpdate:function(){this.watcher.check()},getListItem:function(a,b){return this.store.getRecordData(a[b])},onStoreDestroy:function(){this.onStoreUpdate();this.watcher.unsubscribeAndDestroy(this.onChange,this);this.watcher=null},destroy:function(){this.bindStore(this.store,"un");
this.$super()}},{$stopRenderer:!0,$registerBy:"id"});l.registerAttribute("mjs-each-in-store",100,tb);t({$class:"DialogComponent",$extends:gb,dialog:null,dialogPreset:null,dialogCfg:null,hidden:!0,initComponent:function(){this.$super();this._createDialog()},_getDialogCfg:function(){return v({},this.dialogCfg,{render:{el:this.node,keepInDOM:!0}},!0,!0)},_createDialog:function(){this.dialog=new yb(this.dialogPreset,this._getDialogCfg());this.dialog.on("show",this.onDialogShow,this);this.dialog.on("hide",
this.onDialogHide,this);this.dialog.on("beforeshow",this.onBeforeDialogShow,this);this.dialog.on("beforehide",this.onBeforeDialogHide,this);this.dialog.on("destroy",this.onDialogDestroy,this)},onRenderingFinished:function(){this.rendered=!0;this.afterRender();this.trigger("afterrender",this)},show:function(){this.dialog.show()},hide:function(){this.dialog.hide()},onBeforeDialogShow:function(){this.rendered||this.render();this.template.setAnimation(!0);this.hidden=!1},onDialogShow:function(){this.onShow();
this.trigger("show",this)},onBeforeDialogHide:function(){},onDialogHide:function(){this.template.setAnimation(!1);this.hidden=!0;this.onHide();this.trigger("hide",this)},onDialogDestroy:function(){this.destroying||(this.dialog=null,this.$destroy())},destroy:function(){this.destroying=!0;this.dialog&&this.dialog.destroy();this.$super()}});l.registerAttribute("mjs-validate",250,function(a,b,c,d){c=c||"ValidatorComponent";var e=X(c);e?new e(b,a,d):R(Error("Class '"+c+"' not found"))});t({$class:"ValidatorComponent",
node:null,scope:null,validator:null,scopeState:null,fields:null,formName:null,$init:function(a,b,c){this.node=a;this.scope=b;this.scopeState={};this.fields=[];this.validator=this.createValidator();this.formName=r(a,"name")||r(a,"id")||"$form";this.initScope();this.initScopeState();this.initValidatorEvents();c.once("rendered",this.validator.check,this.validator);c.on("destroy",this.$destroy,this);b.$on("destroy",this.$destroy,this)},createValidator:function(){var a=this.node,b={},c;if(c=C(a).submit)b.callback=
b.callback||{},b.callback.submit=function(a,b){return function(){try{return a(b)}catch(c){R(c)}}}(Ta(c),this.scope);return new xb(a,b)},initValidatorEvents:function(){var a=this.validator;a.on("fieldstatechange",this.onFieldStateChange,this);a.on("statechange",this.onFormStateChange,this);a.on("displaystatechange",this.onDisplayStateChange,this);a.on("fielderrorchange",this.onFieldErrorChange,this);a.on("reset",this.onFormReset,this)},initScope:function(){this.scope[this.formName]=this.scopeState},
initScopeState:function(){var a=this.node,b=this.scopeState,c=this.fields,d,e,g;a.elements?d=a.elements:(d=[],Ja(a,function(a){Fa(a)&&d.push(a)}));a=-1;for(g=d.length;++a<g;)e=d[a],(e=r(e,"name")||r(e,"id"))&&!b[e]&&(c.push(e),b[e]={$error:null,$invalid:null,$pristine:!0,$errorMessage:null});b.$$validator=this.validator;b.$invalid=!1;b.$pristine=!0;b.$submit=U(this.validator.onSubmit,this.validator);b.$reset=U(this.validator.reset,this.validator)},onDisplayStateChange:function(a,b){if(b){b=this.scopeState;
var c,d,e,g=this.fields;c=0;for(d=g.length;c<d;c++)e=b[g[c]],e.$real&&(b[g[c]]=e.$real);b.$invalid=!a.isValid();b.$pristine=!1;this.scope.$check()}else this.onFormReset(a)},onFieldErrorChange:function(a,b,c){this.onFieldStateChange(a,b,b.isValid())},onFormReset:function(a){a=this.scopeState;var b,c,d,e=this.fields;b=0;for(c=e.length;b<c;b++)d=a[e[b]],d.$error=null,d.$errorMessage=null,d.$invalid=null,d.$pristine=!0;a.$invalid=!1;a.$pristine=!0;this.scope.$check()},onFormStateChange:function(a,b){var c=
this.scopeState;c.$invalid=!1===b&&a.isDisplayStateEnabled();c.$pristine=!1;this.scope.$check()},onFieldStateChange:function(a,b,c){var d=this.scopeState,e=b.getName();a=a.isDisplayStateEnabled();b={$error:b.getErrorRule(),$errorMessage:b.getError(),$invalid:!1===c,$pristine:null===b.getExactValidState()};a?d[e]=b:d[e].$real=b;this.scope.$check()},destroy:function(){this.destroyed||this.validator.destroy();this.scope&&delete this.scope[this.formName]}});h.ns=x;h.cs=ia;h.defineClass=t;h.emptyFn=M;
h.slice=S;h.getAttr=r;h.undf=void 0;h.varType=W;h.isPlainObject=V;h.isBool=ka;h.extend=v;h.Scope=O;h.nextUid=P;h.isArray=B;h.toArray=G;h.isFunction=H;h.isThenable=Y;h.isString=I;h.trim=T;h.createWatchable=L;h.nsAdd=n;h.nsGet=X;h.Directive=l;h.bind=U;h.split=ab;h.isNull=function(a){return null===a};h.TextRenderer=Ka;h.setAttr=function(a,b,c){return a.setAttribute(b,c)};h.removeAttr=function(a,b){return a.removeAttribute(b)};h.getAttrMap=Aa;h.aIndexOf=La;h.Renderer=ja;h.Text=bb;h.ObservableMixin=Ma;
h.isObject=Ba;h.instantiate=cb;h.Provider=Ea;h.ProviderMixin=db;h.destroy=eb;h.isAttached=Na;h.data=F;h.toFragment=z;h.clone=sa;h.strUndef="undefined";h.Cache=fb;h.Template=aa;h.getRegExp=Da;h.getClsReg=Ca;h.hasClass=oa;h.addClass=Z;h.removeClass=Q;h.Component=gb;h.stopAnimation=ma;h.raf=da;h.getAnimationPrefixes=hb;h.async=pa;h.isNumber=qa;h.error=R;h.Queue=A;h.isPrimitive=ra;h.functionFactory=Oa;h.createGetter=J;h.toCamelCase=Va;h.getNodeData=Wa;h.getNodeConfig=C;h.ListRenderer=wa;h.currentUrl=
ib;h.resolveComponent=ga;h.returnFalse=ba;h.isField=Fa;h.returnTrue=la;h.DomEvent=ha;h.normalizeEvent=Ga;h.mousewheelHandler=Pa;h.addListener=ca;h.removeListener=va;h.getStyle=jb;h.boxSizingReliable=kb;h.getDimensions=Qa;h.getWidth=lb;h.getHeight=mb;h.getScrollTopOrLeft=Ra;h.getScrollTop=nb;h.getScrollLeft=ob;h.EventBuffer=pb;h.EventHandler=Sa;h.createFunc=Ta;h.isIE=xa;h.preloadImage=Ua;h.parentData=Xa;h.transclude=Ha;h.filterArray=qb;h.dateFormats=rb;h.numberFormats=sb;h.sortArray=Ya;h.compile=function(a,
b){var c=window.document.createElement("div");c.innerHTML=a;c=z(c.childNodes);(new ja(c,b)).process();return c};h.isRegExp=ta;h.isDate=ua;h.copy=Db;h.isWindow=Ia;h.equals=Eb;h.initApp=Za;h.intercept=function(a,b,c,d,e,g){e=e||"before";return function(){var h,l;if("instead"==e)return b.apply(c||d,arguments);"before"==e?(h=b.apply(c||d,arguments),l=!1!==h?a.apply(d||c,arguments):null):(l=a.apply(d||c,arguments),h=b.apply(c||d,arguments));return g?h:l}};h.isInjectable=function(a){return a&&(a.length&&
H(a[a.length-1])||a.inject)};h.isNative=Fb;h.isUndefined=function(a){return"undefined"==typeof a};h.parseJSON=Gb;h.parseXML=function(a,b){var c,d;if(!a||!I(a))return null;try{d=new DOMParser,c=d.parseFromString(a,b||"text/xml")}catch(e){c=void 0}if(!c||c.getElementsByTagName("parsererror").length)throw"Invalid XML: "+a;return c};h.onReady=$a;h.run=function(a,b){var c=a||window;if(!c)throw"Window object neither defined nor provided";$a(function(){var a=ya("[mjs-app]",c.document),e,g,h;e=-1;for(g=a.length;++e<
g;)h=a[e],Za(h,r(h,"mjs-app"),b,!0)},c)};h.ucfirst=function(a){return a.substr(0,1).toUpperCase()+a.substr(1)};h.StoreRenderer=tb;h.eachNode=Ja;return h});
