(function(){var c={}.undefined;var b=function(g,f,e){if(f&&g){for(var d in f){if(f.hasOwnProperty(d)){if(e!==false||g[d]==c){g[d]=f[d]}}}}};var a={apply:b,emptyFn:function(){}};if(window.MetaphorJs){b(window.MetaphorJs,a,true)}else{window.MetaphorJs=a}}());(function(){var b=window,c={};var f=function(m){var k=m.split("."),j,n=k.pop(),l=k.join("."),g=k.length,h,o=b;if(c[l]){return[c[l],n]}for(j=0;j<g;j++){h=k[j];if(!o[h]){o[h]={}}o=o[h]}return[o,n]};var a=function(l){if(c[l]){return c[l]}var k=l.split("."),j,g=k.length,h,m=b;for(j=0;j<g-1;j++){h=k[j];if(!m[h]){return null}m=m[h]}return m};var d=function(j,i){var k=f(j),h=k[0],g=k[1];h[g]=i;c[j]=i};var e=function(g){return c[g]?true:false};d("MetaphorJs.ns",{register:d,exists:e,getNs:a})}());
/*
 * inspired by and based on klass
 */
(function(){var d={}.undefined,e="prototype";var a=function(h){return typeof h==="function"};var b=function(h){return g(function(){},h)};var c=function(j,h,i){return function(){var k=d;this.supr=j[e][h]||function(){};try{k=i.apply(this,arguments)}finally{}this.supr=null;return k}};var f=function(j,l,i){for(var h in l){if(l.hasOwnProperty(h)){j[h]=a(l[h])&&a(i[e][h])?c(i,h,l[h]):l[h]}}};var g=function(k,h){var l=function(){};l[e]=k[e];var i=new l;function j(){if(this.initialize){this.initialize.apply(this,arguments)}}f(i,h,k);j[e]=i;j[e].constructor=j;return j};MetaphorJs.define=function(j,l,h,n){if(!h){h=l;l=null}var m=l&&typeof l=="string"?MetaphorJs.ns.getNs(l):l,o=m?g(m,h):b(h);o.__parent=m;o.__parentClass=m?m.__class:null;o.__class=j;if(n){for(var i in n){if(n.hasOwnProperty(i)){o[i]=n[i]}}}MetaphorJs.ns.register(j,o);return o};MetaphorJs.create=function(r,p,o,n,m,l,k,j,i,h){var s=MetaphorJs.ns.getNs(r),q;if(!s){throw new Error("Class "+s+" not found")}q=new s(p,o,n,m,l,k,j,i,h);q.__parent=s.__parent;q.__parentClass=s.__parentClass;q.__class=s.__class;return q}}());(function(){MetaphorJs.define("MetaphorJs.cmp.Base",{initialize:function(a){a=a||{};MetaphorJs.apply(this,a)},destroy:MetaphorJs.emptyFn})}());
/*
 * MetaphorJs.lib.Observable 1.1
 * @author johann kuindji
 * @github https://github.com/kuindji/metaphorjs-observable
 */
(function(){var a=function(){var e=10;return new Array(e+1).join((Math.random().toString(36)+"00000000000000000").slice(2,18)).slice(0,e)};var d=function(f){var h,g,e,k;for(g=1,e=arguments.length;g<e;g++){k=arguments[g];for(h in k){f[h]=k[h]}}};var b=function(f,k){var h=[],j=a(),g=false,i=0,e=this,k=k||false;d(e,{destroy:function(){h=null;j=null;g=null;i=null;e=null;f=null},on:function(n,m,l){if(!n){return}m=m||n;l=l||{};var q=f+"_"+j;if(m[q]){return}var r=++i,p=l.first||false;m[q]=r;var o={fn:n,scope:m,id:r,called:0,limit:l.limit?l.limit:(l.once?1:0),start:l.start||1,count:0};if(p){h.unshift(o)}else{h.push(o)}return r},un:function(o,n){var q=-1,p=f+"_"+j,r;if(o==parseInt(o)){r=o}else{n=n||o;r=n[p]}if(!r){return false}for(var m=0,l=h.length;m<l;m++){if(h[m].id==r){q=m;delete h[m].scope[p];break}}if(q==-1){return false}h.splice(q,1);return true},hasListener:function(o,n){if(o){n=n||o;var q,p=f+"_"+j;if(o==parseInt(o)){q=o}else{q=n[p]}if(!q){return false}for(var m=0,l=h.length;m<l;m++){if(h[m].id==q){return true}}return false}else{return h.length>0?h.length:false}},removeAllListeners:function(){var n=f+"_"+j;for(var m=0,l=h.length;m<l;m++){delete h[m].scope[n]}h=[]},suspend:function(){g=true},resume:function(){g=false},trigger:function(){if(g||h.length==0){return}var o=k=="all"?[]:null,q;for(var p=0,m=h.length;p<m;p++){var n=h[p];n.count++;if(n.count<n.start){continue}q=n.fn.apply(n.scope,arguments);n.called++;if(n.called==n.limit){e.removeListener(n.id)}if(k=="all"){o.push(q)}if(k=="first"&&q){return q}if(k=="last"&&q){o=q}if(k==false&&q===false){break}}if(k){return o}}})};var c=function(){var e=this,f={},g={};d(g,{createEvent:function(h,i){h=h.toLowerCase();if(!f[h]){f[h]=new b(h,i)}return f[h]},getEvent:function(h){h=h.toLowerCase();return f[h]},on:function(i,k,j,h){i=i.toLowerCase();if(!f[i]){f[i]=new b(i)}return f[i].on(k,j,h)},once:function(i,k,j,h){h=h||{};h.limit=1;return e.on(i,k,j,h)},un:function(h,j,i){h=h.toLowerCase();if(!f[h]){return}f[h].un(j,i)},hasListener:function(h,j,i){h=h.toLowerCase();if(!f[h]){return false}return f[h].hasListener(j,i)},removeAllListeners:function(h){if(!f[h]){return}f[h].removeAllListeners()},trigger:function(){var j=[],k=arguments[0];k=k.toLowerCase();if(!f[k]){return}for(var l=1,h=arguments.length;l<h;l++){j.push(arguments[l])}var m=f[k];return m.trigger.apply(m,j)},suspendEvent:function(h){h=h.toLowerCase();if(!f[h]){return}f[h].suspend()},suspendAllEvents:function(){for(var h in f){f[h].suspend()}},resumeEvent:function(h){h=h.toLowerCase();if(!f[h]){return}f[h].resume()},resumeAllEvents:function(){for(var h in f){f[h].resume()}}});d(e,g,{destroy:function(h){if(h){h=h.toLowerCase();if(f[h]){f[h].destroy();delete f[h]}}else{for(var j in f){f[j].destroy()}f=null;e=null}},getApi:function(){return g}});return e};if(window.MetaphorJs&&MetaphorJs.ns){MetaphorJs.ns.register("MetaphorJs.lib.Observable",c)}else{window.MetaphorJs=window.MetaphorJs||{};MetaphorJs.lib=MetaphorJs.lib||{};MetaphorJs.lib.Observable=c}})();(function(){MetaphorJs.define("MetaphorJs.cmp.Observable","MetaphorJs.cmp.Base",{_observable:null,listeners:null,initialize:function(b){var d=this;d._observable=new MetaphorJs.lib.Observable;MetaphorJs.apply(d,d._observable.getApi());b=b||{};if(b.callback){var a=b.callback,e=a.scope||d;delete a.scope;for(var c in a){if(a.hasOwnProperty(c)){d.on(c,a[c],e)}}delete b.callback}d.supr(b)},destroy:function(){this._observable.destroy();delete this._observable;this.supr()}})}());(function(){var b={},f=-1;var a=function(g){f++;return g.id||"cmp-"+f};var d=function(g){b[g.id]=g};var e=function(g){delete b[g.id]};var c=function(g){return b[g]||null};MetaphorJs.define("MetaphorJs.cmp.Component","MetaphorJs.cmp.Observable",{id:null,tag:"div",el:null,dom:null,cls:null,style:null,renderTo:null,html:null,rendered:false,hidden:false,destroyed:false,destroyEl:true,initialize:function(g){var h=this;h.supr(g);if(h.dom&&!h.el){h.el=$(h.dom)}if(h.el){h.id=h.el.attr("id");if(!h.dom){h.dom=h.el.get(0)}}h.id=a(h);d(h);h.initComponent();if(!h.dom&&h.renderTo){h.render()}else{if(h.dom){h.hidden=h.el.is(":hidden");h.rendered=true;if(h.html){h.el.html(h.html);h.html=null}h.onRender()}}},render:function(j){var h=this;if(h.rendered){return}var g=h.tag,i=$("<"+g+"></"+g+">");j=j||h.renderTo;if(h.cls){i.addClass(h.cls)}if(h.style){i.css(h.style)}i.attr("id",h.id);if(h.html){i.html(h.html);h.html=null}if(h.hidden){i.hide()}i.appendTo(j||"body");h.el=i;h.dom=i.get(0);h.rendered=true;h.onRender();h.renderTo=null},onRender:function(){var g=this;g.el.attr("cmp-id",g.id);g.trigger("render",g);g.afterRender();g.trigger("afterrender",g)},show:function(){var g=this;if(!g.hidden){return}if(g.trigger("beforeshow",g)===false){return false}g.el.show();g.hidden=false;g.onShow();g.trigger("show",g)},hide:function(){var g=this;if(g.hidden){return}if(g.trigger("beforehide",g)===false){return false}g.el.hide();g.hidden=true;g.onHide();g.trigger("hide",g)},isHidden:function(){return this.hidden},isRendered:function(){return this.rendered},isDestroyed:function(){return this.destroyed},getEl:function(){return this.el},getDom:function(){return this.dom},destroy:function(){var g=this;if(g.destroyed){return}if(g.trigger("beforedestroy",g)===false){return false}g.onDestroy();g.destroyed=true;g.trigger("destroy",g);if(g.destroyEl){g.el.remove();g.el=null;g.dom=null}g.supr();e(g)},initComponent:MetaphorJs.emptyFn,afterRender:MetaphorJs.emptyFn,onShow:MetaphorJs.emptyFn,onHide:MetaphorJs.emptyFn,onDestroy:MetaphorJs.emptyFn});MetaphorJs.getCmp=c;$.fn.createCmp=function(h,g){var i=null;if(h&&typeof h!="string"){g=h;h=null}h=h||"MetaphorJs.cmp.Component";g=g||{};this.each(function(){var j=$(this),k=j.attr("cmp-id");if(k){i=c(k);return false}g.el=j;g.dom=this;i=MetaphorJs.create(h,g);return false});return i};$.fn.getCmp=function(){return c(this.attr("cmp-id"))}}());