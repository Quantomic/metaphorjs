<!DOCTYPE html>
<html mjs-app>
<head>
    <script src="metaphorjs.min.js"></script>
    <script src="moment.min.js"></script>
    <script src="firebase.min.js"></script>
</head>
<body>
<!-- mjs-cloak class will be removed as soon as component is resolved -->
<div mjs-cmp="My.Firebase as ctrl" class="mjs-cloak">
    <div class="chat" mjs-cmp-prop="chat">
        <div mjs-each-in-store="item in .store">
            <p><b>{{.item.nickname}}</b> {{.item.date | moment:'LLL'}}</p>
            <p>{{.item.post}}</p>
        </div>
    </div>
    <form name="submitForm" mjs-validate data-submit=".ctrl.submit()">
        <input name="nickname" placeholder="Nickname"
               mjs-model=".nickname"
               mjs-class="{error: .submitForm.nickname.$invalid}"
               data-validate-required>
        <input name="post" placeholder="Message"
               mjs-model=".post"
               mjs-class="{error: .submitForm.post.$invalid}"
               data-validate-required><br>
        <input type="submit" mjs-disabled=".submitForm.$invalid" value="Submit"/>
    </form>
</div>
</body>
</html>