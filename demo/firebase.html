<!DOCTYPE html>
<html mjs-app>
<head>
    <title>Firebase Chat</title>
    <link rel="stylesheet" href="rsc/prism.css">
    <link rel="stylesheet" href="bower_components/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="firebase/style.css">
    <script src="rsc/prism.js" data-manual></script>
    <script src="rsc/moment.min.js"></script>
    <script src="../dev-test/metaphorjs.test.js"></script>

    <script src="bower_components/jquery/dist/jquery.min.js"></script>
    <script src="bower_components/bootstrap/dist/js/bootstrap.min.js"></script>
    <script src="bower_components/firebase/firebase.js"></script>
    <script src="rsc/export.js"></script>


    <script src="firebase/index.js"></script>
</head>
<body>

<div class="container">

    <div class="jumbotron">
        <h1>Firebase Chat</h1>
    </div>

    <div class="row">

        <div class="col-md-6">
            <ul class="nav nav-tabs" role="tablist">
                <li class="active"><a href="#html" role="tab" data-toggle="tab">HTML</a></li>
                <li><a href="#css" role="tab" data-toggle="tab">style.css</a></li>
                <li><a href="#js" role="tab" data-toggle="tab">index.js</a></li>
            </ul>
            <div class="tab-content">
                <div class="tab-pane active" id="html">
                    <pre><code data-export="firebase/main.html" class="language-markup"></code></pre>
                </div>
                <div class="tab-pane" id="css">
                    <pre><code data-export="firebase/style.css" class="language-css"></code></pre>
                </div>
                <div class="tab-pane" id="js">
                    <pre><code data-export="firebase/index.js" class="language-javascript"></code></pre>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div mjs-cmp="My.Firebase as ctrl" class="mjs-cloak">
                <div class="chat" mjs-cmp-prop="chat">
                    <div mjs-each-in-store="item in .store">
                        <p><b>{{.item.nickname}}</b> {{.item.date | moment:'LLL'}}</p>
                        <p>{{.item.post}}</p>
                    </div>
                </div>
                <form name="submitForm" mjs-validate data-submit=".ctrl.submit()">
                    <input name="nickname" placeholder="Nickname"
                                     mjs-model=".nickname"
                                     mjs-class="{error: .submitForm.nickname.$invalid}"
                                     data-validate-required>
                    <input name="post" placeholder="Message"
                                 mjs-model=".post"
                                 mjs-class="{error: .submitForm.post.$invalid}"
                                 data-validate-required><br>
                    <input type="submit" mjs-disabled=".submitForm.$invalid" value="Submit"/>
                </form>
            </div>
        </div>
    </div>
</div>

</body>
</html>